<Sorcery>
 <!--__________________________________________________________________________________
		PROPRIETARY DISCLAIMER
		__________________________________________________________________________________
		2019 "DEVRIX"
		All Rights Reserved.
		__________________________________________________________________________________
		AUTHOR: https://7daystodie.com/forums/member.php?153479-Devrix
		MOD LINK: https://7daystodie.com/forums/showthread.php?109145-Sorcery
		TFP POLICY: https://7daystodie.com/forums/showthread.php?59817-TFP-Official-Modding-Forum-Policy
		__________________________________________________________________________________
		NOTICE:  All digital works, ideas, concepts and functionality contained herein, and made possible by the
		"Sorcery Mod", is the sole digital proprietary property of mod author DEVRIX. Ownership and equal
		rights are hereby, irrefutably and solely, extended and granted to The Fun Pimps legal entity in good faith. 
		
		USAGE:  This mod, and the digital works within, may be downloaded and used by players of 
		the 7 Days to Die community with no required royalties. By doing so, users of the mod understand 
		and accept full and sole responsibility and liability of using the mod. Author, nor The Fun Pimps, shall
		be held responsible or liable for any possible conflict(s) as a direct or indirect result of using this mod.
		
		REDISTRIBUTION: The mod, and the digital works of, may be redistributed within the 7 Days to Die 
		community. Conditions of redistribution require this notice to remain in full, unmodified, and a direct 
		link, with credit stated, to the original mod and author. To redistribute this mod altered in any way, 
		it is requested that your alterations to the mod are stated clearly and precisely from that of the original.
		
		CREDIT: This mod is made possible through the framework provided by The Fun Pimps. It is their hard
		work and ongoing dedication to building and improving an awesome game that fuels the passion and
		drives the creation of this mod.
		__________________________________________________________________________________-->
	
		<append xpath="/buffs" >
			
			<!-- SORCERY MANAGE -->
			<buff name="buffSorceryManage" hidden="true"> 
				<stack_type value="ignore"/>	
				<update_rate value="2"/>
					<effect_group name="ONE TIME INTRO HOOK">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffSorceryIntro"/>
					</effect_group>
					 
					<effect_group name="MARK TARGETS">
						<!-- THIS BUFF ENSURES KILL CREDIT FOR BUFF/SPELL/TRAP/PET/ALL KILLS -->
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="60" buff="buffSorceryMarkTarget" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon" /> -->
						<!-- <requirement name="EntityTagCompare" tags="player" invert="true"/> -->
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="60" buff="buffSorceryMarkTarget" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon" />
					</effect_group>
					 
					 <effect_group name="POCKETS">
						<passive_effect name="CarryCapacity" operation="base_add" value="9"/>
					 </effect_group>
					 
					 <effect_group name="SPELL PROC">
						<passive_effect name="BuffProcChance" operation="base_set" value="1" tags="buffSorceryMarkTarget, buffEntity_SorceryUpdate"/>
						<passive_effect name="BuffProcChance" operation="base_set" value="1" tags="buffPotionBomb_fire, buffPotionBomb_fire2, buffPotionBomb_fire3"/>
						<passive_effect name="BuffProcChance" operation="base_set" value="1" tags="buffPotionBomb_ice, buffPotionBomb_ice2, buffPotionBomb_ice3"/>
						<passive_effect name="BuffProcChance" operation="base_set" value="1" tags="buffPotionBomb_lightning, buffPotionBomb_lightning2, buffPotionBomb_lightning3"/>
					 </effect_group>
					 
					 <effect_group name="SPELL IMMUNITY">
						<passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryMarkTarget,buffEntity_SorceryUpdate"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSorceryMarkTarget,buffEntity_SorceryUpdate"/>
					 
						<passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryFireStacks_Add,buffSpellImpactTrigger_Fire,buffSpellImpact_FireMeteor,buffSpell_Burn,buffSpellFirestorm,buffSpell_FireMeteor,debuffSpell_FireWildfire"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSorceryFireStacks_Add,buffSpellImpactTrigger_Fire,buffSpellImpact_FireMeteor,buffSpell_Burn,buffSpellFirestorm,buffSpell_FireMeteor,debuffSpell_FireWildfire"/>
						
						<passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryIceStacks_Add,buffSpellImpactTrigger_Ice,buffSpell_Ice,buffSpell_IceSpike,buffSpell_IceStorm"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSorceryIceStacks_Add,buffSpellImpactTrigger_Ice,buffSpell_Ice,buffSpell_IceSpike,buffSpell_IceStorm"/>

						<passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryLightningStacks_Add,buffSpellImpactTrigger_Lightning,buffSpellImpactTrigger_LightningNova,buffSpell_Lightning,buffSpell_LightningNova"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSorceryLightningStacks_Add,buffSpellImpactTrigger_Lightning,buffSpellImpactTrigger_LightningNova,buffSpell_Lightning,buffSpell_LightningNova"/>
					 </effect_group>
					 
					 <effect_group name="Equip: EYES">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$eyes_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$eyes_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$eyes_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>					 
					 <effect_group name="Equip: FACE">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$face_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$face_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$face_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>					 
					 <effect_group name="Equip: HEAD">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$head_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$head_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$head_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: COAT">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$coat_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$coat_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$coat_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: CHEST">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$chest_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$chest_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$chest_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: SHIRT">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$shirt_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$shirt_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$shirt_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: GLOVES">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$gloves_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$gloves_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$gloves_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: LEG">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$leg_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$leg_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$leg_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: PANTS">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$pants_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$pants_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$pants_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>
					 <effect_group name="Equip: BOOTS">
						<passive_effect name="HarvestCount" operation="perc_add" value="@$boots_essenceFireHarvest" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$boots_essenceIceHarvest" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$boots_essenceLightningHarvest" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>					 
					 </effect_group>

					 
					 <effect_group name="MONITOR">
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryFireStack" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryLightningStack" operation="set" value="0" target="self"/> -->
					</effect_group>
					
			</buff>			
			
			<!-- SORCERY IMMUNITY -->
			<!-- TIP: This buff will make entities (ex. vehicle/trader/npc) immune to all Sorcery -->
			<buff name="buffSorceryImmunity_All" hidden="true"> 
				<stack_type value="ignore"/>	
				<duration value="0"/>
					 <effect_group name="SPELL IMMUNITY">	
						<!-- <passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryMarkTarget,buffEntity_SorceryUpdate"/> -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffSorceryMarkTarget,buffEntity_SorceryUpdate"/>
						<!-- Fire -->
						<!-- <passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryFireStacks_Add,buffSpellImpactTrigger_Fire,buffSpellImpact_FireMeteor,buffSpell_Burn,buffSpellFirestorm,buffSpell_FireMeteor,debuffSpell_FireWildfire"/> -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffSorceryFireStacks_Add,buffSpellImpactTrigger_Fire,buffSpellImpact_FireMeteor,buffSpell_Burn,buffSpellFirestorm,buffSpell_FireMeteor,debuffSpell_FireWildfire"/>
						<!-- Ice -->
						<!-- <passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryIceStacks_Add,buffSpellImpactTrigger_Ice,buffSpell_Ice,buffSpell_IceSpike,buffSpell_IceStorm"/> -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffSorceryIceStacks_Add,buffSpellImpactTrigger_Ice,buffSpell_Ice,buffSpell_IceSpike,buffSpell_IceStorm"/>
						<!-- Lightning -->
						<!-- <passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryLightningStacks_Add,buffSpellImpactTrigger_Lightning,buffSpellImpactTrigger_LightningNova,buffSpell_Lightning,buffSpell_LightningNova"/> -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffSorceryLightningStacks_Add,buffSpellImpactTrigger_Lightning,buffSpellImpactTrigger_LightningNova,buffSpell_Lightning,buffSpell_LightningNova"/>
						<!-- Fallen Awakened -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedLightningImpactTrigger_lightning,buffFallenLightningSpell_lightning,buffAwakenedLightningSpell_lightning,buffAwakenedLightning_empowerMundane,debuffAwakenedLightning_aura,debuffAwakenedLightning_aura2,buffFallenImpactTrigger_electrocute,buffFallenLightningSpell_electrocute"/>
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedIceImpactTrigger_ice,buffFallenIceSpell_ice,buffAwakenedIceSpell_ice,buffAwakenedIce_empowerMundane,buffFallenImpactTrigger_frozen,buffFallenIceSpell_frozen"/>						
					 </effect_group>
			</buff>			
			
			<!-- FALLEN AWAKENED IMMUNITY -->
			<!-- TIP: This buff will make entities (ex. vehicle/trader/npc) immune to all Fallen Awakened Sorcery -->
			<buff name="buffSorceryImmunity_FallenAwakened" hidden="true"> 
				<stack_type value="ignore"/>
				<duration value="0"/>
					 <effect_group name="SPELL IMMUNITY">
						<!-- <passive_effect name="BuffResistance" operation="base_set" value="2" tags="buffSorceryMarkTarget,buffEntity_SorceryUpdate"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSorceryMarkTarget,buffEntity_SorceryUpdate"/> -->
						<!-- Fallen Awakened -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedLightningImpactTrigger_lightning,buffFallenLightningSpell_lightning,buffAwakenedLightningSpell_lightning,buffAwakenedLightning_empowerMundane,debuffAwakenedLightning_aura,debuffAwakenedLightning_aura2,buffFallenImpactTrigger_electrocute,buffFallenLightningSpell_electrocute"/>
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedIceImpactTrigger_ice,buffFallenIceSpell_ice,buffAwakenedIceSpell_ice,buffAwakenedIce_empowerMundane,buffFallenImpactTrigger_frozen,buffFallenIceSpell_frozen"/>	
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedFireImpactTrigger_fire,buffFallenFireSpell_fire"/>
					 </effect_group>
			</buff>				
			
			<!-- SORCERY: BUFF KILL WORKAROUND -->
			<buff name="buffSorceryMarkTarget">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="10"/>
					<!-- THIS BUFF ENSURES KILL CREDIT FOR BUFF/SPELL/TRAP/PET/ALL KILLS -->
					<!-- THIS WORKS THANKS TO THE DAMAGE_TYPE PROPERTY -->
					<!-- WILL NOT ALERT TARGETS DUE TO ABSENCE OF DAMAGE EFFECTS -->
					
					<!-- CHECK FOR ACTIVE SPELLS LATER -->
			</buff>			
			
			<!-- SORCERY: INTRO HOOK BUFF -->
			<buff name="buffSorceryIntro" name_key="buffSorceryIntroName" description_key="buffSorceryIntroDesc" tooltip_key="buffSorceryIntroTooltip" icon="ui_game_symbol_block_upgrade" icon_color="102,0,204" remove_on_death="false">
				<stack_type value="ignore"/>
					<effect_group name="BOOST: ALL ESSENCE">
						<passive_effect name="HarvestCount" operation="perc_add" value="3" tags="essenceFireHarvest,essenceIceHarvest,essenceLightningHarvest"/>
					</effect_group>
				
					<effect_group name="CHECKPOINT">
						<requirements compare_type="or">
							<requirement name="PlayerLevel" target="self" operation="GTE" value="10"/>
							<requirement name="ProgressionLevel" progression_name="attSorcery" operation="GT" value="3"/>
							<requirement name="ProgressionLevel" progression_name="perkSorceryEssenceMastery" operation="GT" value="2"/>
						</requirements>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffSorceryIntro" />
					</effect_group>
			</buff>
			
			<!-- SORCERY: SUPPORT BUFFS -->
			<buff name="buffSorcerySupportPerkNoble" hidden="false" remove_on_death="false" name_key="buffSorcerySupportPerkNobleName" description_key="buffSorcerySupportPerkNobleDesc" icon="ui_game_symbol_treasure" icon_color="0,105,0">
				<stack_type value="replace"/>
				<duration value="0"/>
					<effect_group name="EMISSARY">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="Equals" value="2"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.10" />
						<passive_effect name="LootGamestage" operation="base_add" value="50" />
						<passive_effect name="TreasureRadius" operation="base_subtract" value="1"/>
						<passive_effect name="BarteringBuying" operation="base_add" value=".05" />
						<passive_effect name="BarteringSelling" operation="base_add" value=".05" />
					</effect_group>
					<effect_group name="cleanup">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="NotEquals" value="2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffSorcerySupportPerkNoble"/>
					</effect_group>
			</buff>		
			<buff name="buffSorcerySupportPerkLord" hidden="false" remove_on_death="false" name_key="buffSorcerySupportPerkLordName" description_key="buffSorcerySupportPerkLordDesc" icon="ui_game_symbol_treasure" icon_color="0,55,185">
				<stack_type value="replace"/>
				<duration value="0"/>
					<effect_group name="LORD">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="Equals" value="3"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="runeUnique_altinstouch, runeGeneral_spelllight2, runeGeneral_spelllight3"/>						
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="cs_fallenFire, cs_fallenIce"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.2" />
						<passive_effect name="LootGamestage" operation="base_add" value="100" />
						<passive_effect name="TreasureRadius" operation="base_subtract" value="2"/>
						<passive_effect name="BarteringBuying" operation="base_add" value=".1" />
						<passive_effect name="BarteringSelling" operation="base_add" value=".1" />
					</effect_group>
					<effect_group name="cleanup">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="NotEquals" value="3"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffSorcerySupportPerkLord"/>
					</effect_group>
			</buff>				
			<buff name="buffSorcerySupportPerkRoyal" hidden="false" remove_on_death="false" name_key="buffSorcerySupportPerkRoyalName" description_key="buffSorcerySupportPerkRoyalDesc" icon="ui_game_symbol_treasure" icon_color="104,0,255">
				<stack_type value="replace"/>
				<duration value="0"/>
					<effect_group name="ROYAL">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="Equals" value="4"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="runeUnique_altinstouch, runeGeneral_spelllight2, runeGeneral_spelllight3"/>						
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="cs_fallenFire, cs_fallenIce, cs_fallenTrio"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.3" />
						<passive_effect name="LootGamestage" operation="base_add" value="150" />
						<passive_effect name="TreasureRadius" operation="base_subtract" value="3"/>
						<passive_effect name="BarteringBuying" operation="base_add" value=".2" />
						<passive_effect name="BarteringSelling" operation="base_add" value=".2" />
					</effect_group>
					<effect_group name="cleanup">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="NotEquals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffSorcerySupportPerkRoyal"/>
					</effect_group>
			</buff>
			<buff name="buffSorcerySupportPerkCouncil" hidden="false" remove_on_death="false" name_key="buffSorcerySupportPerkCouncilName" description_key="buffSorcerySupportPerkCouncilDesc" icon="ui_game_symbol_treasure" icon_color="160,0,0">
				<stack_type value="replace"/>
				<duration value="0"/>
					<effect_group name="COUNCIL">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="Equals" value="5"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="runeUnique_altinstouch, runeGeneral_spelllight2, runeGeneral_spelllight3"/>						
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="cs_fallenFire, cs_fallenIce, cs_fallenTrio"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.4" />
						<passive_effect name="LootGamestage" operation="base_add" value="200" />
						<passive_effect name="TreasureRadius" operation="base_subtract" value="4"/>
						<passive_effect name="BarteringBuying" operation="base_add" value=".3" />
						<passive_effect name="BarteringSelling" operation="base_add" value=".3" />
					</effect_group>
					<effect_group name="cleanup">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySupport" operation="NotEquals" value="5"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffSorcerySupportPerkCouncil"/>
					</effect_group>
			</buff>			
			
		<!--___________________________ SPELLCASTS: SORCERY WEAPONS ___________________________-->
			<!-- SPELLCAST PASSIVE: FIRE -->
			<buff name="buffSorceryWieldFire" name_key="Fire Spellcast: Passive" description_key="The natural power of the Fire Spellcast flows through your veins. Those with Spellcast Mastery are empowered with enhanced mobility, great resistance to heat and good resistance to cold." icon="ui_game_symbol_fire"  icon_color="102,0,204" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<!-- <effect_group>
						<requirement name="HoldingItemHasTags" tags="spellcast,spellcastFire"/>
							<passive_effect name="RoundsPerMinute" operation="base_add" value="100" tags="sorcery"/>
							<passive_effect name="RoundsPerMinute" operation="perc_add" value="1" tags="sorcery"/>
							<passive_effect name="AttacksPerMinute" operation="perc_add" value="1" tags="sorcery"/>
							<passive_effect name="EntityDamage" operation="base_add" value="10000" tags="sorcery"/>
					</effect_group> -->
					
					<effect_group name="FIRE SORCERY">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/fireHand.unity3d?fireHand" parent_transform="Attachments"/> -->
					</effect_group>					
					
					<effect_group name="SPELLCAST MASTERY: BASE">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="1"/>
						<!-- <passive_effect name="ProjectileVelocity" operation="perc_add" value="0.10" /> -->
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.10" />
						<passive_effect name="RunSpeed" operation="perc_add" value="0.10" />
						<passive_effect name="HypothermalResist" operation="base_add" value="50"/>
						<passive_effect name="HyperthermalResist" operation="base_add" value="20"/>
					</effect_group>
					
					<effect_group name="RANK 5: burn stacks empower">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastFire" operation="GTE" value="5"/>
						<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="self" buff="buffSorceryFireStackPlayer">
							<requirement name="CVarCompare" target="other" cvar="SorceryFireStack" operation="GTE" value="1"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="SPELL PROC">
						<passive_effect name="BuffProcChance" operation="base_add" value="2"/>
						<!-- <passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSpellImpactTrigger_Ice,buffSpell_Ice,buffSpell_IceSpike,buffSpellImpactTrigger_Frozen,buffSpell_Frozen"/> -->
					</effect_group>					
					
					<effect_group name="cleanup">
						<!-- remove spell from hand -->
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="fireHand" parent_transform="Attachments"/> -->			
					
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWieldFire">
							<requirement name="HoldingItemHasTags" tags="spellcastFire" invert="true"/>
						</triggered_effect>
						<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSorceryWieldFire"/> -->
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWieldFire"/>
						<!-- <triggered_effect trigger="onSelfEnteredGame" action="PlaySound" sound="buff_bleeding" play_in_head="true"/> -->
					</effect_group>

			</buff>
		
			<!-- SPELLCAST PASSIVE: ICE -->
			<buff name="buffSorceryWieldIce" name_key="Ice Spellcast: Passive" description_key="The natural power of the Ice Spellcast flows through your veins. Those with Spellcast Mastery are empowered with enhanced mobility, great resistance to cold and good resistance to heat." icon="ui_game_symbol_cold"  icon_color="102,0,204" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<!-- <passive_effect name="ElementalDamageResist" operation="base_set" value="0" target="other"/> -->
					<!-- <passive_effect name="BuffResistance" operation="base_set" value="-10000" target="other"/>
					<passive_effect name="BuffProcChance" operation="base_set" value="10000" target="self"/>
					<passive_effect name="BuffProcChance" operation="base_add" value="10000" target="self"/> -->
				
					<effect_group name="ICE SORCERY">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/iceHand.unity3d?iceHand" parent_transform="LeftHand"/> -->
					</effect_group>
				
					<effect_group name="SPELLCAST MASTERY: BASE">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="1"/>
						<!-- <passive_effect name="ProjectileVelocity" operation="perc_add" value="0.10" /> -->
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.10" />
						<passive_effect name="RunSpeed" operation="perc_add" value="0.10" />
						<passive_effect name="HypothermalResist" operation="base_add" value="20"/>
						<passive_effect name="HyperthermalResist" operation="base_add" value="50"/>
					</effect_group>
					
					<effect_group name="RANK 5: ice stack empower">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastIce" operation="GTE" value="5"/>
						<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="self" buff="buffSorceryIceStackPlayer">
							<requirement name="CVarCompare" target="other" cvar="SorceryIceStack" operation="GTE" value="1"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="SPELL PROC">
						<passive_effect name="BuffProcChance" operation="base_add" value="2"/>
						<!-- <passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffSpellImpactTrigger_Ice,buffSpell_Ice,buffSpell_IceSpike,buffSpellImpactTrigger_Frozen,buffSpell_Frozen"/> -->
					</effect_group>
					
					<effect_group name="cleanup">
						<!-- remove spell from hand -->
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="iceHand" parent_transform="Attachments"/> -->
						
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWieldIce">
							<requirement name="HoldingItemHasTags" tags="spellcastIce" invert="true"/>
						</triggered_effect>
						<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSorceryWieldIce"/> -->
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWieldIce"/>
					</effect_group>

			</buff>
			
			<!-- SPELLCAST PASSIVE: LIGHTNING -->
			<buff name="buffSorceryWieldLightning" name_key="Lightning Spellcast: Passive" description_key="The natural power of the Lightning Spellcast flows through your veins. Those with Spellcast Mastery are empowered with enhanced mobility, good resistance to cold and heat and some resistance to negative effects." icon="ui_game_symbol_electric_power"  icon_color="102,0,204" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1" />

					<effect_group name="LIGHTNING SORCERY">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/iceHand.unity3d?iceHand" parent_transform="LeftHand"/> -->
					</effect_group>
				
					<effect_group name="SPELLCAST MASTERY: BASE">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="1"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="0.15" />
						<passive_effect name="RunSpeed" operation="perc_add" value="0.15" />
						<passive_effect name="HypothermalResist" operation="base_add" value="30"/>
						<passive_effect name="HyperthermalResist" operation="base_add" value="30"/>
						<passive_effect name="BuffResistance" operation="base_add" value="0.1" tags="buffIllInfection0,buffInjuryBleeding,buffInjuryStunned1"/>
					</effect_group>
					
					<effect_group name="RANK 2: LIGHTNING STRIKE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" operation="GTE" value="2"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
						<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" buff="debuffSpell_LightningStrike"/>
					</effect_group>					
					
					<effect_group name="RANK 5: Lightning Stack Empower">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" operation="GTE" value="5"/>
						<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="self" buff="buffSorceryLightningStackPlayer">
							<requirement name="CVarCompare" target="other" cvar="@SorceryLightningStack" operation="GTE" value="1"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="SPELL PROC">
						<passive_effect name="BuffProcChance" operation="base_add" value="2"/>
					</effect_group>
					

					
					<effect_group name="cleanup">
						<!-- remove spell from hand -->
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="lightningHand" parent_transform="Attachments"/> -->
						
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWieldLightning">
							<requirement name="HoldingItemHasTags" tags="spellcastLightning" invert="true"/>
						</triggered_effect>
					
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWieldLightning"/>
					</effect_group>

			</buff>		
		
		
			<!-- SPELLCAST PRIMARY: FIRE -->
			<buff name="buffSpellcastFire"  name_key="Fire Spellcast: Primary" description_key="Your are channeling the primary spellcasting power of your Fire Spellcast." icon="ui_game_symbol_fire"  icon_color="0,150,0" hidden="false">
				<stack_type value="replace"/>
				<duration value="0"/> 
				
				<effect_group name="SPIRIT COST">
					<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="0.2"/>
				</effect_group>
				
				<effect_group name="REQUIRED COST">
					<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="LT" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastFire" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Spellcasting Requires Spirit" />
				</effect_group>
				
				<effect_group tiered="false" name="base">				
					<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryFireball_cast" play_in_head="true"/>
					<triggered_effect trigger="onSelfBuffRemove" action="StopSound" target="self" sound="sorceryFireball_cast" play_in_head="true"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="1"/> <!-- cost -->
					<passive_effect name="StaminaChangeOT" operation="base_subtract" value="3"/> <!-- cost -->
					<passive_effect name="LightMultiplier" operation="perc_add" value="0.05"/>
					<!-- <passive_effect name="LightMultiplier" operation="perc_add" value="0.25"/> -->
					<!-- <passive_effect name="LightMultiplier" operation="base_add" value="1"/> -->
				</effect_group>
				
				<effect_group name="RANK 2: cauterize wounds">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastFire" operation="GTE" value="2"/>
					<passive_effect name="HealthMaxModifierOT" operation="base_add" value="0.5" />
					<passive_effect name="HealthChangeOT" operation="base_add" value="1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffInjuryBleeding"/>
				</effect_group>

				<effect_group name="RANK 5: CAST CHARGE">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="5"/>
					<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$SpellcastPrimaryCounter" operation="set" value="0"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SpellcastPrimaryCounter" operation="add" value="1"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="Cast" transform_path="handFire"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="Cast" transform_path="handFireCharged">
						<requirement name="CVarCompare" cvar="$SpellcastPrimaryCounter" operation="GTE" value="3"/>
					</triggered_effect>
				</effect_group>
				
				<effect_group tiered="false" name="cleanup">
					<!-- modify spell: prevent self-trigger -->
					<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Impact" transform_path="Impacted"/>				
					<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Cast" transform_path="handFire"/>
					<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Cast" transform_path="handFireCharged"/>				
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastFire">
						<requirement name="HoldingItemHasTags" tags="spellcastFire" invert="true"/>
					</triggered_effect>
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpellcastFire"/> -->
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSpellcastFire"/>
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSpellcastFire"/>
				</effect_group>
			</buff>

			<!-- SPELLCAST PRIMARY: ICE -->
			<buff name="buffSpellcastIce"  name_key="Ice Spellcast: Primary" description_key="Your are channeling the primary spellcasting power of your Ice Spellcast." icon="ui_game_symbol_cold"  icon_color="0,150,0" hidden="false">
				<stack_type value="replace"/>
				<duration value="0"/> 
				
				<effect_group name="SPIRIT COST">
					<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="0.2"/>
				</effect_group>
				
				<effect_group name="REQUIRED COST">
					<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="LT" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastIce" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Spellcasting Requires Spirit" />
				</effect_group>				
				
				<effect_group tiered="false" name="base">
					<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_cast" play_in_head="true"/>
					<triggered_effect trigger="onSelfBuffRemove" action="StopSound" target="self" sound="sorceryIce_cast" play_in_head="true"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="1"/> <!-- cost -->
					<passive_effect name="StaminaChangeOT" operation="base_subtract" value="3"/> <!-- cost -->
					<passive_effect name="LightMultiplier" operation="perc_add" value="0.05"/>
					<!-- <passive_effect name="LightMultiplier" operation="base_add" value="1"/> -->
				</effect_group>
				
				<effect_group name="RANK 2: Metabolize">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastIce" operation="GTE" value="2"/>
					<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.1" />
				</effect_group>

				<effect_group name="RANK 5: CAST CHARGE">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="5"/>
					<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$SpellcastPrimaryCounter" operation="set" value="0"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SpellcastPrimaryCounter" operation="add" value="1"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="Cast" transform_path="handIce"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="Cast" transform_path="handIceCharged">
						<requirement name="CVarCompare" cvar="$SpellcastPrimaryCounter" operation="GTE" value="3"/>
					</triggered_effect>
				</effect_group>
				
				<effect_group tiered="false" name="cleanup">
					<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Impact" transform_path="Impacted"/>
					<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Cast" transform_path="handIce"/>
					<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Cast" transform_path="handIceCharged"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastIce">
						<requirement name="HoldingItemHasTags" tags="spellcastIce" invert="true"/>
					</triggered_effect>
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpellcastIce"/> -->
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSpellcastIce"/>
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSpellcastIce"/>
				</effect_group>
			</buff>				
			
			<!-- SPELLCAST PRIMARY: LIGHTNING -->
			<buff name="buffSpellcastLightning"  name_key="Lightning Spellcast: Primary" description_key="Your are channeling the primary spellcasting power of your Lightning Spellcast." icon="ui_game_symbol_electric_power"  icon_color="0,150,0" hidden="false">
				<stack_type value="replace"/>
				<duration value="0"/> 
				<update_rate value="1"/>
				
					<!-- <effect_group name="DEV">
						<triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="@SpellcastStacks"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="@SpellcastStacks"/>
						<triggered_effect trigger="onSelfBuffRemove" action="CVarLogValue" cvar="@SpellcastStacks"/>
					</effect_group>  -->
				
					<effect_group name="SPIRIT COST">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
						<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="0.2"/>
					</effect_group>
					
					<effect_group name="REQUIRED COST">
						<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="LT" value="5"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastLightning" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Spellcasting Requires Spirit" />
					</effect_group>				
					
					<effect_group tiered="false" name="base">
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_cast"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" target="self" sound="sorceryLightning_cast"/>
						<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="1"/> <!-- cost -->
						<passive_effect name="StaminaChangeOT" operation="base_subtract" value="3"/> <!-- cost -->
						<passive_effect name="LightMultiplier" operation="perc_add" value="0.05"/>
					</effect_group>
					
					<effect_group name="STACK: COUNT">
							<!-- <requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="5"/> -->
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="@SpellcastStacks" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$SpellcastStackCounter" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SpellcastStackCounter" operation="add" value="1" target="self"/> -->
					</effect_group>				
					
					<!-- <effect_group name="STACK 1">
						<requirement name="CVarCompare" cvar="$SpellcastStackCounter" operation="Equals" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1"/>	
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="@SpellcastStacks" operation="set" value="1" target="self"/>
					</effect_group>
					<effect_group name="STACK 2">
						<requirement name="CVarCompare" cvar="$SpellcastStackCounter" operation="Equals" value="3" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2"/>	
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="@SpellcastStacks" operation="set" value="2" target="self"/>
					</effect_group>
					<effect_group name="STACK 3">
						<requirement name="CVarCompare" cvar="$SpellcastStackCounter" operation="Equals" value="6" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3"/>	
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="@SpellcastStacks" operation="set" value="3" target="self"/>
					</effect_group>	
					<effect_group name="STACK 4">
						<requirement name="CVarCompare" cvar="$SpellcastStackCounter" operation="Equals" value="10" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4"/>	
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="@SpellcastStacks" operation="set" value="4" target="self"/>
					</effect_group> -->
					
					
					<effect_group name="RANK 2: Metabolize">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" operation="GTE" value="2"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.1" />
					</effect_group>

					<effect_group name="RANK 5: CAST CHARGE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastMastery" operation="GTE" value="5"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$SpellcastPrimaryCounter" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SpellcastPrimaryCounter" operation="add" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="Cast" transform_path="handLightning"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="Cast" transform_path="handLightningCharged">
							<requirement name="CVarCompare" cvar="$SpellcastPrimaryCounter" operation="GTE" value="3"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group tiered="false" name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Impact" transform_path="Impacted"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Cast" transform_path="handLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="Cast" transform_path="handLightningCharged"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastLightning">
							<requirement name="HoldingItemHasTags" tags="spellcastLightning" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSpellcastLightning"/>
						<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSpellcastLightning"/>
					</effect_group>
			</buff>
			
		
			<!-- SPELLCAST SECONDARY: FIRE -->
			<buff name="buffSpellcastSecondaryFire" name_key="Fire Spellcast: Secondary" description_key="You are channeling the secondary power of your Fire Spellcast." icon="ui_game_symbol_fire"  icon_color="49,93,206" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
				
				<effect_group name="COST">
					<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="2"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="0.5"/>
				</effect_group>	
				
				<effect_group name="Base Effects">
					<passive_effect name="LightMultiplier" operation="perc_add" value="0.50"/>
					<passive_effect name="ProjectileVelocity" operation="perc_add" value="0.50"/>
					<!-- <passive_effect name="EntityDamage" operation="base_add" value="5000"/> --> <!-- TEST -->
					<!-- <passive_effect name="EntityDamage" operation="base_add" value="600" tags="spellcastFire"/> -->
				</effect_group>

				<effect_group name="RANK 3: blazing speed">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastFire" operation="GTE" value="3"/>
					<passive_effect name="WalkSpeed" operation="perc_add" value="0.5"/>
					<passive_effect name="RunSpeed" operation="perc_add" value="0.5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
				</effect_group>

				<effect_group name="RANK 4: Fire Flight">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastFire" operation="GTE" value="4"/>
					<passive_effect name="JumpStrength" operation="perc_add" value="2"/>
					<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffDontBreakMyLeg"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
				</effect_group>
				
				<effect_group name="RANK 5: Meteor Land">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastFire" operation="GTE" value="5"/>
					<requirement name="CVarCompare" cvar="_fallSpeed" operation="GTE" value=".1"/>
					<triggered_effect trigger="onSelfFallImpact" action="AddBuff" buff="buffSpell_FireMeteorLand"/>
				</effect_group>
				
				<effect_group name="COST">
					<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="LT" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastSecondaryFire" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Fire Spellcast Secondary Requires Stamina" />
				</effect_group>
				
				<effect_group name="FX">
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireEmpower.unity3d?fireEmpower" local_rotation="-90,0,-90" local_position="0,0,0" />
					<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="a_fire_embersmoke_sm_lp" play_in_head="true"/>
				</effect_group>	

				<!-- remove buff -->
				<effect_group tiered="false" name="cleanup">
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastSecondaryFire">
						<requirement name="HoldingItemHasTags" tags="spellcastFire" invert="true"  match_all_tags="true"/>
					</triggered_effect>
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffDontBreakMyLeg"/>
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireEmpower"/>
					<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="a_fire_embersmoke_sm_lp"/>
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="fireEmpower"/>
					<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpellcastSecondaryFire"/> -->
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSpellcastSecondaryFire"/>
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSpellcastSecondaryFire"/>
				</effect_group>
			</buff>

			<!-- SPELLCAST SECONDARY: ICE -->
			<buff name="buffSpellcastSecondaryIce" name_key="Ice Spellcast: Secondary" description_key="You are channeling the secondary power of your Ice Spellcast." icon="ui_game_symbol_cold"  icon_color="49,93,206" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
				
				<effect_group name="COST">
					<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="2"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="0.5"/>
				</effect_group>
				
				<effect_group name="Base Effects">
					<!-- <passive_effect name="EntityDamage" operation="base_add" value="20" tags="spellcastIce"/> --> <!-- potential glitch -->
					<passive_effect name="LightMultiplier" operation="perc_add" value="0.1"/>
					<passive_effect name="ProjectileVelocity" operation="perc_add" value="0.5"/>
				</effect_group>
				
				<effect_group name="RANK 3: Iceburn Nearby">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastIce" operation="GTE" value="3"/>
					<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_IceAura" target="self" />
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="6" buff="buffSpell_IceSlow" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/> 
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
				</effect_group>

				<effect_group name="RANK 4: ice shield">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastIce" operation="GTE" value="4"/>
					<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffSpell_IceShield"/> 
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
				</effect_group>		
				
				<!-- <effect_group name="RANK 5: Meteor Land">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastFire" operation="GTE" value="5"/>
					<requirement name="CVarCompare" cvar="_fallSpeed" operation="GTE" value=".1"/>
					<triggered_effect trigger="onSelfFallImpact" action="AddBuff" buff="buffSpell_FireMeteorLand"/>
				</effect_group> -->
				
				<effect_group name="REQUIRED COST">
					<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="LT" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastSecondaryIce" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Ice Spellcast Secondary Requires Stamina" />
				</effect_group>
				
				<effect_group name="FX">
					<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/FrozenEffect2.unity3d?FrozenEffect2" local_rotation="0,0,0" local_position="0,0,0" /> -->
					<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_cast" play_in_head="true"/>
				</effect_group>	

				<!-- remove buff -->
				<effect_group tiered="false" name="cleanup">
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastSecondaryIce">
						<requirement name="HoldingItemHasTags" tags="spellcastIce" invert="true"/>
					</triggered_effect>
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffSpell_IceShield" /> 
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffSpellLasting_IceAura" />
					<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryIce_cast" />
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpellcastSecondaryIce" /> -->
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSpellcastSecondaryIce" />
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSpellcastSecondaryIce" />
				</effect_group>
			</buff>		
		
			<!-- SPELLCAST SECONDARY: LIGHTNING -->
			<buff name="buffSpellcastSecondaryLightning" name_key="Lightning Spellcast: Secondary" description_key="You are channeling the secondary power of the Lightning Spellcast." icon="ui_game_symbol_electric_power"  icon_color="49,93,206" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
				
				<effect_group name="COST">
					<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="2"/>
					<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="0.5"/>
				</effect_group>
				
				<effect_group name="Base Effects">
					<!-- <passive_effect name="EntityDamage" operation="base_add" value="20" tags="spellcastIce"/> --> <!-- potential glitch -->
					<passive_effect name="LightMultiplier" operation="perc_add" value="0.1"/>
					<passive_effect name="ProjectileVelocity" operation="perc_add" value="0.5"/>
				</effect_group>
				
				<effect_group name="RANK 3: TELEPORT">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" operation="GTE" value="3"/>
						<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="GTE" value="30"/>
					<triggered_effect trigger="onSelfRun" action="AddBuff" target="self" buff="buffSpell_LightningTeleport"/> 
				</effect_group>				

				<effect_group name="RANK 4: ENERGY SHIELD">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" operation="GTE" value="4"/>
					<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffSpell_LightningEnergyShield"/> 
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="2"/>
				</effect_group>
				
				<effect_group name="RANK 5: Shockburn Nearby">
					<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" operation="GTE" value="5"/>
					<!-- <triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_IceAura" target="self" />
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="6" buff="buffSpell_IceSlow" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>  -->
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
				</effect_group>				
				
				<effect_group name="REQUIRED COST">
					<requirement name="StatCompareCurrent" target="self" stat="stamina" operation="LT" value="5"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastSecondaryLightning" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Lightning Spellcast Secondary Requires Stamina" />
				</effect_group>
				
				<effect_group name="FX">
					<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" target="self" particle="#@modfolder:Resources/lightningDischarge.unity3d?lightningDischarge"/> -->
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" target="self" particle="#@modfolder:Resources/lightningArc.unity3d?lightningArc" parent_transform="Head"/>
					<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_forcefield" play_in_head="true"/>
				</effect_group>	

				<!-- remove buff -->
				<effect_group tiered="false" name="cleanup">
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpellcastSecondaryLightning">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning" invert="true"/>
					</triggered_effect>
					
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffSpell_LightningEnergyShield" />
					
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningArc" />
					<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="sorceryLightning_forcefield" />
			<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpellcastSecondaryLightning" />
					<triggered_effect trigger="onSelfLeaveGame" action="StopSound" sound="sorceryLightning_forcefield" />
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSpellcastSecondaryLightning" />
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSpellcastSecondaryLightning" />
				</effect_group>
			</buff>				
		
		<!--___________________________ SPELLCAST SPELLS: LIGHTNING ___________________________-->
			<!-- SPELL: TELEPORT -->
			<buff name="buffSpell_LightningTeleport" name_key="Teleport Recharging" description_key="Teleport is currently Recharging." icon="ui_game_symbol_clock" icon_color="92,0,157" icon_blink="true" hidden="false" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="5"/>
					<effect_group name="SPELLCAST RANK X: Teleport">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="30"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_portalin" play_in_head="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" target="self" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<!-- <passive_effect name="WalkSpeed" operation="base_add" value="200" duration="0"/> -->
						<passive_effect name="RunSpeed" operation="base_add" value="100" duration="0"/>
						
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveParticleEffectFromEntity" target="self" particle="lightningElectrocute"/>
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="ShowToolbeltMessage" message="Teleport Recharged" /> -->
					</effect_group>
			</buff>
		
			<!-- SPELL: ENERGY SHIELD -->
			<buff name="buffSpell_LightningEnergyShield" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_explode" target="self"/> -->
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_crackling"/> -->
					</effect_group>

					<effect_group name="RANK 4: ENERGY SHIELD">
						<triggered_effect trigger="onOtherDamagedSelf" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="10"/>
						<passive_effect name="PhysicalDamageResist" operation="base_add" value="50" tags="coredamageresist"/>
						<passive_effect name="ElementalDamageResist" operation="base_add" value="50" tags="coredamageresist"/>
						<passive_effect name="HyperthermalResist" operation="base_add" value="50"/>
						<passive_effect name="HypothermalResist" operation="base_add" value="50" />
					</effect_group>
					
					<effect_group name="RANK 5: SHOCKBURN">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastLightning" target="self" operation="GTE" value="5"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="other" buff="debuffSpell_LightningEnergyShieldShockburn" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>			
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpell_LightningEnergyShield">
							<requirement name="NotHasBuff" buff="buffSpellcastSecondaryLightning" />
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute" />
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="sorceryLightning_crackling" /> -->
					</effect_group>
			</buff>			
		
		<!--___________________________ FIRE: SORCERY ___________________________-->
		<!--___________________________ FIRE: IMPACT ___________________________-->
			<!-- IMPACT: FIRE -->
			<buff name="buffSpellImpactTrigger_Fire" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryFireball_explode" />
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_Fire"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_Fire" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireImpact.unity3d?fireImpact" parent_transform="Hips"/>
					</effect_group>
			</buff>
		
			<buff name="buffSpellImpactTrigger_FireMeteor" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireMeteor"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireImpact"/> -->
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_FireMeteor"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_FireMeteor" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="effect"/>
				<duration value="1.5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireMeteor.unity3d?fireMeteor"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpell_FireMeteor"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="selfAOE" range="4" buff="buffSpell_FireMeteor" target_tags="ally,party">
							<requirement name="IsLookingAtEntity" tags="player" />
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryFireMeteor_impact" target="self"/>
					</effect_group>
			</buff>		
		
			<buff name="buffSpellImpactTrigger_FireMeteorShower" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
							<requirement name="IsLookingAtEntity" tags="player" />
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireMeteorShower"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_FireMeteorShower"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_FireMeteorShower" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="effect"/>
				<duration value="1.5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireMeteorShower.unity3d?fireMeteorShower"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="debuffSpell_FireMeteorShower"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="selfAOE" range="4" buff="debuffSpell_FireMeteorShower" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryFireMeteorShower_impact" target="self"/>
					</effect_group>
			</buff>		
		
		<!--___________________________ FIRE: SPELLS ___________________________-->
			<!-- SPELL: FIRE BURN -->
			<buff name="buffSpell_Burn" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="8"/>
				<update_rate value="1"/>

					<effect_group name="CVAR: Burn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Base" operation="set" value="@SorceryFireStack" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Base" operation="multiply" value="1" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Burn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Base" operation="multiply" value="2">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Amplify" operation="multiply" value="8">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Wildfire">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_WildfireChance" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_WildfireChance" operation="multiply" value="8">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Wildfire-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_WildfireChance" operation="multiply" value="12">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireBurn_Base" operation="add" value="2" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Base" operation="add" value="2" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireBurn_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_Amplify" operation="add" value="10" />	
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireBurn_WildfireChance" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurn_WildfireChance" operation="add" value="5" />							
					</effect_group>
					
					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$FireBurn_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$FireBurn_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="BURNING: Chance">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_FireBurning"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_FireBurning"/>
					</effect_group>					
					
					<effect_group name="BURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FireBurn_Base"/>	
					</effect_group>

					<effect_group name="RANK 2: INCINERATE">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="2"/>
						<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40" target="self"/>
						<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>	
					</effect_group>					

					<effect_group name="RANK 3: EXPLODE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="3"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="2"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="2"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Fire, debuffSpell_FireExplode"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Fire, debuffSpell_FireExplode"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$FireBurn_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$FireBurn_Amplify"/>
					</effect_group>						
					
					<effect_group name="RANK 4: WILDFIRE AOE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$FireBurn_WildfireChance"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="3" buff="buffSorceryFireStacks_Add, debuffSpell_FireWildfire" target_tags="ally,party"/> 
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_FireWildfire"/>
					</effect_group> 
			</buff>
			
			<!-- SPELL: FIRE FIRENADO -->
			<buff name="buffSpellFirestorm" hidden="true" remove_on_death="true" >
				<damage_type value="heat"/>					
				<stack_type value="replace"/>
				<duration value="8"/>
				<update_rate value="1"/>
				
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireTornado-finish" />
						<!-- <triggered_effect trigger="onSelfBuffStack" action="RemoveParticleEffectFromEntity" particle="fireTornado-finish" /> -->
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornado.unity3d?fireTornado" />
						<!-- <triggered_effect trigger="onSelfBuffStack" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornado.unity3d?fireTornado" /> -->				
					</effect_group>
								
					<effect_group name="CVAR: Burn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Burn" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Burn" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Burn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Burn" operation="multiply" value="8">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>								
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Amplify" operation="multiply" value="8">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Amplify" operation="multiply" value="12">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
				
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Firenado_Burn" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Burn" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Firenado_Amplify" operation="add" value="20" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Firenado_Amplify" operation="add" value="20" />
					</effect_group>				
				
					<effect_group name="IMPACT">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="10"/> -->
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="RANK 0: ENGULF NEARBY">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="LT" value="2"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="50"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSorceryFireStacks_Add, debuffSpellFirenado_Engulf"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="4" buff="buffSorceryFireStacks_Add, debuffSpellFirenado_Engulf" target_tags="ally,party"/>
					</effect_group>					
					
					<effect_group name="RANK 1: FIRENADO">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$Firenado_Burn"/>
						<passive_effect name="JumpStrength" operation="perc_add" value=".5" />
					</effect_group>
				
					<effect_group name="RANK 1-4: FIRENADO)">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="LT" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".4,.2,.4,.2,.4,.2,.4,.4,0" duration="0,1,2,3,4,5,6,7,8" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".4,.2,.4,.2,.4,.2,.4,.4,0" duration="0,1,2,3,4,5,6,7,8" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".4,.2,.4,.2,.4,.2,.4,.4,0" duration="0,1,2,3,4,5,6,7,8" />
					</effect_group>
				
					<effect_group name="RANK 5: Death Trap">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,.4,.9,.6,.9,.4,.9,.9,0" duration="0,1,2,3,4,5,6,7,8" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,.4,.9,.6,.9,.4,.9,.9,0" duration="0,1,2,3,4,5,6,7,8" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,.4,.9,.6,.9,.4,.9,.9,0" duration="0,1,2,3,4,5,6,7,8" />
					</effect_group>
					
					<effect_group name="RANK 2: ENGULF NEARBY">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="2"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="80"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSorceryFireStacks_Add, debuffSpellFirenado_Engulf"/>							
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="4" buff="buffSorceryFireStacks_Add, debuffSpellFirenado_Engulf" target_tags="ally,party"/>				
					</effect_group>
					
					<effect_group name="RANK 3: BOLSTER CONSUME">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="3"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="25" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Fire"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value="@$Firenado_Amplify"/>
					</effect_group>
					
					<effect_group name="RANK 4: CYCLONE AOE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="5" buff="buffSorceryFireStacks_Add, buffSpellFirestorm_Clone" target_tags="ally,party"/>
					</effect_group>

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornado-finish.unity3d?fireTornado-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireTornado"/>
					</effect_group>
			</buff>

			<!-- SPELL: FIRE FIRENADO (CLONE) -->
			<buff name="buffSpellFirestorm_Clone" hidden="true" remove_on_death="true" >
				<damage_type value="heat"/>					
				<stack_type value="replace"/>
				<duration value="4"/>
				
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireTornadoClone-finish" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornadoClone.unity3d?fireTornadoClone">
							<requirement name="NotHasBuff" buff="buffSpellFirestorm"/>
						</triggered_effect>					
					</effect_group>
					
					<effect_group name="CONTROL">
						<requirement name="HasBuff" buff="buffSpellFirestorm"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffSpellFirestorm_Clone" />
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoClone_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoClone_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoClone_Amplify" operation="multiply" value="8">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFirestorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
				
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FirenadoClone_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoClone_Amplify" operation="add" value="10" />
					</effect_group>				
				
					<effect_group name="IMPACT">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="10"/> -->
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="ENGULF NEARBY">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="4" buff="buffSorceryFireStacks_Add, debuffSpellFirenado_Engulf" target_tags="ally,party"/>
					</effect_group>
					
					<effect_group name="RANK 1: FIRENADO CLONE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FirenadoClone_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".3,.1,.3,0" duration="0,1,2,4" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".3,.1,.3,0" duration="0,1,2,4" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".3,.1,.3,0" duration="0,1,2,4" />
						<passive_effect name="JumpStrength" operation="perc_add" value=".5" />
					</effect_group>				

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireTornadoClone"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornadoClone-finish.unity3d?fireTornadoClone-finish">
							<requirement name="NotHasBuff" buff="buffSpellFirestorm"/>
						</triggered_effect>			
					</effect_group>
			</buff>				
			
			<!-- SPELL: FIRE METEOR -->
			<buff name="buffSpell_FireMeteor" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="replace"/>
				<duration value="4"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
					</effect_group>

					<effect_group name="CVAR: Burn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Burn" operation="set" value="@SorceryFireStack" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Burn" operation="multiply" value="10" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Burn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Burn" operation="multiply" value="12">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="5"/>
							</triggered_effect>						
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Amplify" operation="multiply" value="25">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Amplify" operation="multiply" value="35">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireMeteor_Burn" operation="add" value="20" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Burn" operation="add" value="20" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireMeteor_Amplify" operation="add" value="100" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteor_Amplify" operation="add" value="100" />						
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$FireMeteor_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$FireMeteor_Amplify"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1.5"/>					
					</effect_group>
					
					<effect_group name="IMPACT - RANK 0">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="LT" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="Ragdoll" target="self" duration="1"/>
					</effect_group>

					<effect_group name="METEOR BURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FireMeteor_Burn"/>
					</effect_group>
					
					<effect_group name="RANK 2: MOLTEN">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="2"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1" target="self" />
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FireMeteor_Burn"/>
					</effect_group>					
					
					<effect_group name="RANK 3: CRATER IMPACT">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="3"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1" target="self" />
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="100"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="100"/>								
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="3"/>
						<triggered_effect trigger="onSelfBuffStack" action="Ragdoll" target="self" duration="3"/>
					</effect_group>					
					
					<effect_group name="RANK 4: SHOWER">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="5"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" target="self" cvar="SorceryFireStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="5" buff="buffSorceryFireStacks_Add, buffSpellImpactTrigger_FireMeteorShower" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" range="5" buff="buffSorceryFireStacks_Add, buffSpellImpactTrigger_FireMeteorShower" target_tags="ally,party"/>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>
			</buff>			
			
			<!-- SPELL: FIRE METEOR SHOWER -->
			<buff name="debuffSpell_FireMeteorShower" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="replace"/>
				<duration value="4"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish" /> -->
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
					</effect_group>

					<effect_group name="CVAR: Burn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Burn" operation="set" value="@SorceryFireStack" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Burn" operation="multiply" value="10" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Burn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Burn" operation="multiply" value="12">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="5"/>
							</triggered_effect>						
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Amplify" operation="multiply" value="15">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Amplify" operation="multiply" value="25">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireMeteor" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireMeteorShower_Burn" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Burn" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireMeteorShower_Amplify" operation="add" value="50" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireMeteorShower_Amplify" operation="add" value="50" />						
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$FireMeteorShower_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$FireMeteorShower_Amplify"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1.5"/>					
					</effect_group>
					
					<effect_group name="IMPACT: KNOCKDOWN">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="Ragdoll" target="self" duration="1"/>
					</effect_group>

					<effect_group name="METEOR BURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FireMeteorShower_Burn"/>
					</effect_group>

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>
			</buff>			
			
			<!-- SPELL: METEOR LAND -->
			<buff name="buffSpell_FireMeteorLand" name_key="Meteor Land Recharging" description_key="Meteor Land is currently Recharging." icon="ui_game_symbol_clock" icon_color="151,0,0" icon_blink="true" hidden="false" remove_on_death="true">
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="FIRE RANK 5: Meteor Land">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="5"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryFireball_explode" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="3" buff="buffSpellImpactTrigger_Fire, debuffSpell_FireMeteorLand" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
					
					<effect_group name="COOLDOWN">
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="ShowToolbeltMessage" message="Meteor Land Recharged" /> -->
					</effect_group>					
			</buff>
			
			<buff name="debuffSpell_FireMeteorLand" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="initial">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryFireStacks" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryFireStack" operation="add" value="1">
							<requirement name="CVarCompare" cvar="SorceryFireStack" operation="LT" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" parent_transform="Hips" /> -->					
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" duration="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireMeteorLand_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireMeteorLand_Amplify" operation="multiply" value="10"/>
					</effect_group>
				
					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$FireMeteorLand_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>				
				
					<effect_group name="FIRE RANK 5: Meteor Land">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="10"/>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire" /> -->
					</effect_group>
			</buff>			
		
		
		
			<!--___________________________ WIELD: SPELLS ___________________________-->	
			<!-- WIELD: FIRE -->
			<buff name="buffSorceryWield_Fire" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireStacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireStacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="LT" value="10"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$FireStacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryFireStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="Equals" value="2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="FireStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					
					<effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="FireStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="Equals" value="6"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="FireStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="FireStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>				
				
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$FireStacksPlayerCalc" operation="Equals" value="8"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryFireStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryFireStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_Fire">
							<requirement name="HoldingItemHasTags" tags="spellcastFire" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_Fire"/>
					</effect_group>
			</buff>
			
			<!-- WIELD: FIRENADO -->
			<buff name="buffSorceryWield_Firenado" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Fire2StacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Fire2StacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="LT" value="10"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$Fire2StacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryFireStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire2StacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					
					<!-- NOTE: T2+ Stacking Reserved for Runes / Sets / Perks -->
					<!-- <effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="Equals" value="12"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="Equals" value="16"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group> -->
				
					<!-- VFX: Triggers Full Orb Flash -->
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire2StacksPlayerCalc" operation="Equals" value="16"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryFireStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryFireStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire2StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_Firenado">
							<requirement name="HoldingItemHasTags" tags="spellcastFire" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_Firenado"/>
					</effect_group>
			</buff>
		
			<!-- WIELD: METEOR -->
			<buff name="buffSorceryWield_FireMeteor" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Fire3StacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Fire3StacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="LT" value="10"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$Fire3StacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryFireStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire3StacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					
					<!-- NOTE: T2+ Stacking Reserved for Runes / Sets / Perks -->
					<!-- <effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="Equals" value="12"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="Equals" value="16"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Fire3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group> -->
				
					<!-- VFX: Triggers Full Orb Flash -->
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$Fire3StacksPlayerCalc" operation="Equals" value="16"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryFireStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryFireStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastFire"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Fire3StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_FireMeteor">
							<requirement name="HoldingItemHasTags" tags="spellcastFire" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_FireMeteor"/>
					</effect_group>
			</buff>		
		
		
			<!-- WIELD: ICE -->
			<buff name="buffSorceryWield_Ice" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="LT" value="10"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$IceStacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryIceStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="Equals" value="2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="IceStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					
					<effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="IceStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="Equals" value="6"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="IceStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="IceStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>				
				
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$IceStacksPlayerCalc" operation="Equals" value="8"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryIceStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryIceStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_Ice">
							<requirement name="HoldingItemHasTags" tags="spellcastIce" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_Ice"/>
					</effect_group>
			</buff>
			
			<!-- WIELD: ICE SPIKE -->
			<buff name="buffSorceryWield_IceSpike" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Ice2StacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice2StacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="LT" value="18"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$Ice2StacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryIceStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice2StacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					<!-- NOTE: T2+ Stacking Reserved for Runes / Sets / Perks -->
					<!-- <effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="Equals" value="12"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="Equals" value="16"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group> -->
				
					<!-- VFX: Triggers Full Orb Flash -->
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice2StacksPlayerCalc" operation="Equals" value="16"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryIceStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryIceStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice2StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_IceSpike">
							<requirement name="HoldingItemHasTags" tags="spellcastIce" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_IceSpike"/>
					</effect_group>
			</buff>
		
			<!-- WIELD: ICE STORM -->
			<buff name="buffSorceryWield_IceStorm" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Ice3StacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice3StacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="LT" value="18"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$Ice3StacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryIceStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice3StacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					<!-- NOTE: T2+ Stacking Reserved for Runes / Sets / Perks -->
					<!-- <effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="Equals" value="12"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="Equals" value="16"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Ice3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group> -->
				
					<!-- VFX: Triggers Full Orb Flash -->
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$Ice3StacksPlayerCalc" operation="Equals" value="16"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryIceStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryIceStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Ice3StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_IceStorm">
							<requirement name="HoldingItemHasTags" tags="spellcastIce" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_IceStorm"/>
					</effect_group>
			</buff>		
		
		
			<!-- WIELD: LIGHTNING -->
			<buff name="buffSorceryWield_Lightning" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="LT" value="10"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$LightningStacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryLightningStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="Equals" value="2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="LightningStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					
					<effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="LightningStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="Equals" value="6"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="LightningStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="LightningStacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>				
				
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$LightningStacksPlayerCalc" operation="Equals" value="8"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryLightningStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryLightningStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_Lightning">
							<requirement name="HoldingItemHasTags" tags="spellcastLightning" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_Lightning"/>
					</effect_group>
			</buff>
		
			<!-- WIELD: LIGHTNING NOVA -->
			<buff name="buffSorceryWield_LightningNova" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning2StacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning2StacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="LT" value="18"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$Lightning2StacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryLightningStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning2StacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					<!-- NOTE: T2+ Stacking Reserved for Runes / Sets / Perks -->
					<!-- <effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="Equals" value="12"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="Equals" value="16"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning2StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group> -->
				
					<!-- VFX: Triggers Full Orb Flash -->
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning2StacksPlayerCalc" operation="Equals" value="16"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryLightningStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryLightningStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning2StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_LightningNova">
							<requirement name="HoldingItemHasTags" tags="spellcastLightning" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_LightningNova"/>
					</effect_group>
			</buff>		
		
			<!-- WIELD: LIGHTNING STORM -->
			<buff name="buffSorceryWield_LightningStorm" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="0.5" />
					<effect_group name="Stack: CHARGE"> 
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning3StacksPlayerCalc" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning3StacksPlayerCalc" operation="add" value="1">
							<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="LT" value="18"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$Lightning3StacksPlayerCalc" operation="set" value="0"/>
					</effect_group>

					<effect_group name="Stack: REFRESH">
						<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryLightningStacks_Player" target="self" />
					</effect_group>
					
					<effect_group name="Stack: CHARGE 1">
						<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LTE" value="0" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="Equals" value="4"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning3StacksPlayer" operation="add" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryOrbWhoosh" />
					</effect_group>					
					<!-- NOTE: T2+ Stacking Reserved for Runes / Sets / Perks -->
					<!-- <effect_group name="Stack: CHARGE 2">
						<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="Equals" value="1" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="Equals" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 3">
						<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="Equals" value="2" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="Equals" value="12"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group>
				
					<effect_group name="Stack: CHARGE 4">
						<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="Equals" value="3" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="Equals" value="16"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="Lightning3StacksPlayer" operation="add" value="1" target="self"/>
					</effect_group> -->
				
					<!-- VFX: Triggers Full Orb Flash -->
					<effect_group name="Stack: MAXIMUM">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="Equals" value="4" target="self"/>
						<requirement name="CVarCompare" cvar="$Lightning3StacksPlayerCalc" operation="Equals" value="16"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>			
					</effect_group>
				
					<effect_group name="Stack: RESET">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4"/>
					</effect_group>
				
					<effect_group name="Stack VFX Initial: buffSorceryLightningStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>				
				
					<effect_group name="Stack VFX Update: buffSorceryLightningStacks_Player">
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="1" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb1">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="1" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="2" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb2">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="2" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="3" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb3">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="3" target="self"/>
						</triggered_effect>
						
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="GTE" value="4" target="self"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" parent_transform="ORBS" transform_path="Orb4">
							<requirement name="CVarCompare" cvar="Lightning3StacksPlayer" operation="LT" value="4" target="self"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSorceryWield_LightningStorm">
							<requirement name="HoldingItemHasTags" tags="spellcastLightning" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryWield_LightningStorm"/>
					</effect_group>
			</buff>
		
		
		<!--___________________________ STACK: MANAGE ___________________________-->
			<!-- STACKS: FOE -->
			<buff name="buffSorceryFireStacks" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value=".5"/>
				<!-- 
						UPGRADE / RANKS
						* stack active, burn
						* eternal burn
						* Meteor
						* Phoenix: notes**
				-->
				
				<effect_group name="INITIAL"> 
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireStacks.unity3d?fireStacks"/>
				</effect_group>

				<effect_group name="GOVERN: x4 Max">
					<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GT" value="4" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryFireStack" operation="set" value="4" target="self" />
				</effect_group>
				
				<effect_group name="No Stacks">
					<requirement name="CVarCompare" cvar="SorceryFireStack" operation="LT" value="1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 1">
					<requirement name="CVarCompare" cvar="SorceryFireStack" operation="Equals" value="1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="fireStacks/Stack1"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 2">
					<requirement name="CVarCompare" cvar="SorceryFireStack" operation="Equals" value="2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="fireStacks/Stack2"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 3">
					<requirement name="CVarCompare" cvar="SorceryFireStack" operation="Equals" value="3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="fireStacks/Stack3"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 4">
					<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="4"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="fireStacks/Stack4"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="fireStacks/Stack3"/>
				</effect_group>				
				
				<effect_group name="cleanup">
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireStacks"/>
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="fireStacks"/> -->
				</effect_group>
			</buff>
			
			<buff name="buffSorceryIceStacks" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value=".5"/>
				<!-- 
						UPGRADE / RANKS
						* stack active, iceburn
						* eternal iceburn
						* Ice Phoenix: notes**
				-->
				
				<effect_group name="INITIAL"> 
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceStacks.unity3d?iceStacks"/>
				</effect_group>

				<effect_group name="GOVERN: x4 Max">
					<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GT" value="4" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="set" value="4" target="self" />
				</effect_group>				
				
				<effect_group name="No Stacks">
					<requirement name="CVarCompare" cvar="SorceryIceStack" operation="LT" value="1" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 1">
					<requirement name="CVarCompare" cvar="SorceryIceStack" operation="Equals" value="1" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="iceStacks/Stack1"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 2">
					<requirement name="CVarCompare" cvar="SorceryIceStack" operation="Equals" value="2" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="iceStacks/Stack2"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 3">
					<requirement name="CVarCompare" cvar="SorceryIceStack" operation="Equals" value="3" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="iceStacks/Stack3"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 4">
					<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="4" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="iceStacks/Stack4"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="iceStacks/Stack3"/>
				</effect_group>				
				
				<effect_group name="cleanup">
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceStacks"/>
				</effect_group>
			</buff>			
			
			<buff name="buffSorceryLightningStacks" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value=".5"/>
				<!-- 
						UPGRADE / RANKS
						* stack active, SHOCKBURN
						* eternal SHOCKBURN
						* LIGHTNING Phoenix: notes**
				-->
				<effect_group name="INITIAL"> 
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStacks.unity3d?lightningStacks"/>
				</effect_group>

				<effect_group name="GOVERN: x4 Max">
					<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GT" value="4" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryLightningStack" operation="set" value="4" target="self" />
				</effect_group>
				
				<effect_group name="No Stacks">
					<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="LT" value="1" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 1">
					<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="Equals" value="1" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="lightningStacks/Stack1"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 2">
					<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="Equals" value="2" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="lightningStacks/Stack2"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 3">
					<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="Equals" value="3" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="lightningStacks/Stack3"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack4"/>
				</effect_group>
				
				<effect_group name="Stack 4">
					<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="4" target="self"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="true" transform_path="lightningStacks/Stack4"/>					
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack1"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack2"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningStacks/Stack3"/>
				</effect_group>

				<effect_group name="cleanup">
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStacks"/>
				</effect_group>
			</buff>			
			
			<!-- STACKS: FOE ADD -->
			<buff name="buffSorceryFireStacks_Add" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryFireStacks" target="self" />
					</effect_group>			
					
					<effect_group name="GOVERN: x4 Max">
						<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GT" value="4" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryFireStack" operation="set" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="SorceryFireStack" operation="set" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryFireStack" operation="set" value="4" target="self" />
					</effect_group>
					
					<effect_group name="STACKS RANK 5: ETERNAL STACKS">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="LT" value="5"/>
						<requirement name="NotHasBuff" buff="buffSorceryFireStacks_Player" target="other"/>
						<requirement name="CVarCompare" cvar="SorceryFireStack" operation="GTE" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryFireStack" operation="subtract" value="1" target="self"/>
					</effect_group>
			</buff>
			
			<buff name="buffSorceryIceStacks_Add" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryIceStacks" target="self" />
					</effect_group>			
					
					<effect_group name="GOVERN: x4 Max">
						<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GT" value="4" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryIceStack" operation="set" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="SorceryIceStack" operation="set" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="set" value="4" target="self" />
					</effect_group>
					
					<effect_group name="STACKS RANK 5: ETERNAL STACKS">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						<requirement name="NotHasBuff" buff="buffSorceryIceStacks_Player" target="other"/>
						<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="subtract" value="1" target="self"/>
					</effect_group>
			</buff>	

			<buff name="buffSorceryLightningStacks_Add" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryLightningStacks" target="self" />
					</effect_group>			
					
					<effect_group name="GOVERN: x4 Max">
						<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GT" value="4" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryLightningStack" operation="set" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="SorceryLightningStack" operation="set" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryLightningStack" operation="set" value="4" target="self" />
					</effect_group>
					
					<effect_group name="STACKS RANK 5: ETERNAL STACKS">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						<requirement name="NotHasBuff" buff="buffSorceryLightningStacks_Player" target="other"/>
						<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryLightningStack" operation="subtract" value="1" target="self"/>
					</effect_group>
			</buff>	
			
			<!-- STACKS: PLAYER -->
			<buff name="buffSorceryFireStacks_Player" hidden="true">
				<stack_type value="replace"/>
				<duration value="10"/>
					<effect_group tiered="false" name="cleanup">
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryFireStacks_Player"/>
						<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSorceryFireStacks_Player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="FireStacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Fire2StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Fire3StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Fire4StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Fire5StacksPlayer" operation="set" value="0" target="self"/>
					</effect_group>
			</buff>
			
			<buff name="buffSorceryIceStacks_Player" hidden="true">
				<stack_type value="replace"/>
				<duration value="10"/>
					<effect_group tiered="false" name="cleanup">
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryIceStacks_Player"/>
						<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSorceryIceStacks_Player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="IceStacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Ice2StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Ice3StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Ice4StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Ice5StacksPlayer" operation="set" value="0" target="self"/>
					</effect_group>
			</buff>

			<buff name="buffSorceryLightningStacks_Player" hidden="true">
				<stack_type value="replace"/>
				<duration value="10"/>
					<effect_group tiered="false" name="cleanup">
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryLightningStacks_Player"/>
						<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSorceryLightningStacks_Player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="LightningStacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Lightning2StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Lightning3StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Lightning4StacksPlayer" operation="set" value="0" target="self"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="Lightning5StacksPlayer" operation="set" value="0" target="self"/>
					</effect_group>
			</buff>		
			
			<!-- STACKS: PLAYER BUFF -->
			<buff name="buffSorceryFireStackPlayer" name_key="Burn Stacks" description_key="Your Fire Sorcery is further amplified by Fire Burn Stacks: +Spellcasting, +Movement, +Cauterizing" icon="ui_game_symbol_fire"  icon_color="0,150,0" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="duration"/>
				<duration value="3"/>
				
				<effect_group name="Base">
					<passive_effect name="ProjectileVelocity" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="WalkSpeed" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="RunSpeed" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="HealthChangeOT" operation="base_add" duration="0,3" value=".2,2" />
				</effect_group>
				
				<effect_group name="Extended">
					<passive_effect name="ProjectileVelocity" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="WalkSpeed" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="RunSpeed" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="HealthChangeOT" operation="base_add" duration="3,120" value="2" />
				</effect_group>				
				
				<effect_group name="Burn Stack Buff">
					<requirements>
						<requirement name="HoldingItemHasTags" tags="sorcery" has_all_tags="false"/>
						<requirement name="CVarCompare" target="other" cvar="SorceryFireStack" operation="GTE" value="1"/>
					</requirements>
					<!-- <passive_effect name="EntityDamage" operation="base_add" duration="0,3" value="20,100" />
					<passive_effect name="EntityDamage" operation="base_add" duration="3,120" value="100" /> -->
				</effect_group>


				<!-- remove buff -->
				<effect_group name="cleanup">
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSorceryFireStackPlayer"/> -->
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryFireStackPlayer"/>
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSorceryFireStackPlayer"/>
					<!-- <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" buff="buffSorceryFireStackPlayer"/> -->
				</effect_group>
			</buff>
			
			<buff name="buffSorceryIceStackPlayer" name_key="Iceburn Stacks" description_key="Your Ice Sorcery is further amplified by Iceburn Stacks: +Spellcasting, +Movement, +Mending" icon="ui_game_symbol_cold"  icon_color="0,150,0" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="duration"/>
				<duration value="3"/>
				
				<effect_group name="Base">
					<passive_effect name="ProjectileVelocity" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="WalkSpeed" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="RunSpeed" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="HealthChangeOT" operation="base_add" duration="0,3" value="1,10" />
				</effect_group>
				
				<effect_group name="Extended">
					<passive_effect name="ProjectileVelocity" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="WalkSpeed" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="RunSpeed" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="HealthChangeOT" operation="base_add" duration="3,120" value="10" />
				</effect_group>				
				
				<effect_group name="Ice Stack Buff">
					<requirements>
						<requirement name="HoldingItemHasTags" tags="spellcastIce"/>
						<requirement name="CVarCompare" target="other" cvar="SorceryIceStack" operation="GTE" value="1"/>
					</requirements>
					<!-- <passive_effect name="EntityDamage" operation="base_add" duration="0,3" value="20,100" />
					<passive_effect name="EntityDamage" operation="base_add" duration="3,120" value="100" /> -->
				</effect_group>


				<!-- remove buff -->
				<effect_group name="cleanup">
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSorceryIceStackPlayer"/> -->
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryIceStackPlayer"/>
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSorceryIceStackPlayer"/>
					<!-- <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" buff="buffSorceryIceStackPlayer"/> -->
				</effect_group>
			</buff>			
			
			<buff name="buffSorceryLightningStackPlayer" name_key="Shockburn Stacks" description_key="Your Lightning Sorcery is further amplified by Shockburn Stacks: +Spellcasting, +Movement, +Mending" icon="ui_game_symbol_electric_power"  icon_color="0,150,0" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="duration"/>
				<duration value="3"/>
				
				<effect_group name="Base">
					<passive_effect name="ProjectileVelocity" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="WalkSpeed" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="RunSpeed" operation="perc_add" duration="0,3" value=".1,1" />
					<passive_effect name="HealthChangeOT" operation="base_add" duration="0,3" value="1,10" />
				</effect_group>
				
				<effect_group name="Extended">
					<passive_effect name="ProjectileVelocity" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="WalkSpeed" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="RunSpeed" operation="perc_add" duration="3,120" value="1" />
					<passive_effect name="HealthChangeOT" operation="base_add" duration="3,120" value="10" />
				</effect_group>				
				
				<effect_group name="Lightning Stack Buff">
					<requirements>
						<requirement name="HoldingItemHasTags" tags="spellcastLightning"/>
						<requirement name="CVarCompare" target="other" cvar="SorceryLightningStack" operation="GTE" value="1"/>
					</requirements>
				</effect_group>

				<!-- remove buff -->
				<effect_group name="cleanup">
					<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffSorceryLightningStackPlayer"/>
					<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="buffSorceryLightningStackPlayer"/>
				</effect_group>
			</buff>				
	
			
			
		<!--___________________________ FIRE: DEATH ___________________________-->
			<!-- DEATH: FIRE (DEV) -->
			<buff name="buffSorceryFireDeath" hidden="true" remove_on_death="false">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="6"/>
				<update_rate value="1"/>
				
					<effect_group name="TESTING">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="health" operation="subtract" value="10000" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStat" stat="health" operation="subtract" value="10000" /> -->
					</effect_group>
						
					<effect_group name="TESTING: Destroy Corpse">
						<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="START: buffSorceryFireDeath"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="UPDATE: buffSorceryFireDeath"/>
						<passive_effect name="HealthMax" operation="base_set" value="-10000"/>
						<passive_effect name="HealthLoss" operation="base_set" value="10000"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="health" operation="subtract" value="1000" />
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="1001"/>
						
						
						<passive_effect name="ProjectileStickChance" operation="base_subtract" value="1"/>
						<passive_effect name="ProjectileStickChance" operation="base_set" value="0"/>
					</effect_group>
			</buff>			
			
			
		<!--___________________________ FIRE: DEBUFF ___________________________-->
			<!-- DEBUFF: FIRE BURNING -->
			<buff name="debuffSpell_FireBurning" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="replace"/>
				<duration value="4"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStack" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="multiply" value="2"/>
					</effect_group>
				
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="multiply" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="multiply" value="3">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireBurning_Amplify" operation="add" value="5" />						
					</effect_group>					
					
					<effect_group name="BURNING">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FireBurning_Amplify"/>
					</effect_group>				
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>
			</buff>		
		
			<!-- DEBUFF: FIRE EXPLODE -->
			<buff name="debuffSpell_FireExplode" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="1"/>
					<effect_group name="Fire Explode">
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
					</effect_group>
			</buff>
			
			<!-- DEBUFF: FIRE WILDFIRE -->
			<buff name="debuffSpell_FireWildfire" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="replace"/>
				<duration value="6"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStack" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" parent_transform="Hips" /> -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireWildfire_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FireWildfire_Amplify" operation="multiply" value="2"/>
					</effect_group>
				
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireWildfire_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireWildfire_Amplify" operation="multiply" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FireWildfire_Amplify" operation="multiply" value="4">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellFireball" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
					
					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>					
					</effect_group>
					
					<effect_group name="WILDFIRE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="2"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FireWildfire_Amplify"/>
					</effect_group>				
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire" /> -->
					</effect_group>
			</buff>
			
			<!-- DEBUFF: FIRENADO ENGULF -->
			<buff name="debuffSpellFirenado_Engulf" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="4"/>
				<update_rate value="1"/>
				
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStack" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="multiply" value="3"/>					
					</effect_group>
				
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="multiply" value="8">
								<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
				
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$FirenadoEngulf_Amplify" operation="add" value="10" />						
					</effect_group>
				
					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>					
					</effect_group>
				
					<effect_group name="ENGULF">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$FirenadoEngulf_Amplify"/>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>
			</buff>
			

			
		<!--___________________________ ICE: SORCERY ___________________________-->
		<!--___________________________ ICE: IMPACT ___________________________-->
			<!-- IMPACT: ICE -->
			<buff name="buffSpellImpactTrigger_Ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_impacted" />
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_Ice"/>
					</effect_group>
			</buff>

			<buff name="buffSpellImpact_Ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceImpact.unity3d?iceImpact" parent_transform="Hips"/>
					</effect_group>
			</buff>
	
			
		<!--___________________________ ICE: LASTING ___________________________-->
			<!-- LASTING: ICE FOG -->
			<buff name="buffSpellLasting_Ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group name="Start"> 
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFinish"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_freeze" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceLasting.unity3d?iceLasting" parent_transform="Hips"/>
					</effect_group>

					<effect_group name="Finish">
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" /> -->
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_freeze" target="self" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFinish.unity3d?iceFinish" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceLasting"/>
						<!-- <triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="iceLasting"/> -->
					</effect_group>
			</buff>
			
			<!-- LASTING: ICE STORM FOG -->
			<buff name="buffSpellLasting_IceStorm" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group name="Start"> 
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceStormFog-finish"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_freeze" target="self"/> -->
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceStormFog.unity3d?iceStormFog" parent_transform="Hips"/>
					</effect_group>

					<effect_group name="Finish">
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" /> -->
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_freeze" target="self" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceStormFog-finish.unity3d?iceStormFog-finish" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceStormFog"/>
					</effect_group>
			</buff>			
			
			<!-- LASTING: ICE AURA -->
			<buff name="buffSpellLasting_IceAura" hidden="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group name="Start"> 
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_freeze" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffSpellFinish_IceAura"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceAura.unity3d?iceAura"/>
					</effect_group>

					<effect_group name="Finish">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceAura"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceAura-finish.unity3d?iceAura-finish"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellFinish_IceAura"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="sorceryIce_freeze"/>
					</effect_group>				
					
			</buff>
			
			<!-- FINISH: ICE AURA -->
			<buff name="buffSpellFinish_IceAura" hidden="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="Start"> 
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffSpellLasting_IceAura"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceAura"/>
					</effect_group>

					<effect_group name="Finish">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceAura-finish"/>
					</effect_group>
			</buff>			
			
		<!--___________________________ ICE: SPELLS ___________________________-->
			<!-- SPELL: ICE SLOW -->
			<buff name="buffSpell_IceSlow" hidden="true"> 
				<damage_type value="cold"/>	
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value=".25"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_Ice"/>
					</effect_group>

					<effect_group name="CHILL">
						<!-- <passive_effect name="HealthChangeOT" operation="base_subtract" value="1" /> --> 		<!-- aggro -->
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,.9,0" duration="0,1,2" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,.9,0" duration="0,1,2" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,.9,0" duration="0,1,2" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,.9,0" duration="0,1,2" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".9,.9,0" duration="0,1,2" />
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" buff="buffSpellLasting_Ice" />
					</effect_group>
			</buff>
			
			<!-- SPELL: ICE SHIELD -->
			<buff name="buffSpell_IceShield" hidden="true"> 
				<damage_type value="cold"/>	
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_explode" target="self"/> -->
					</effect_group>

					<effect_group name="ICE SHIELD">
						<passive_effect name="HealthChangeOT" operation="base_add" value="1"/>
						<passive_effect name="StaminaChangeOT" operation="base_add" value=".1"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value=".1"/>
						<passive_effect name="PhysicalDamageResist" operation="base_add" value="25" tags="coredamageresist"/>
						<passive_effect name="ElementalDamageResist" operation="base_add" value="25" tags="coredamageresist"/>
						<passive_effect name="HyperthermalResist" operation="base_add" value="25"/>
						<passive_effect name="HypothermalResist" operation="base_add" value="25" />
					</effect_group>
					
					<effect_group name="RANK 5: ICY DEATH">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastIce" target="self" operation="GTE" value="5"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="1"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="other" buff="buffSpellImpactTrigger_Ice" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="other" buff="debuffSpell_IceSuffering" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
						<!-- RUNE ITEM: AOE Chance  --> 
						<!-- <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="2.5" buff="buffSpellImpactTrigger_Ice" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="2.5" buff="debuffSpell_IceSuffering" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>	 -->			
					</effect_group>
					
					<effect_group name="RUNE: ICY DEATH AOE (DEV)">
						<!-- <requirement name="ProgressionLevel" progression_name="perkSorcerySpellcastIce" target="self" operation="GTE" value="5"/>
						<requirement name="HoldingItemHasTags" tags="iceShield_rune"/>
						<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="50"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="5"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="2.5" buff="buffSpellImpactTrigger_Ice" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
						<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="2.5" buff="debuffSpell_IceSuffering" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>	 -->
					</effect_group>					
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffSpell_IceShield">
							<requirement name="NotHasBuff" buff="buffSpellcastSecondaryIce" />
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" target="self"/>
					</effect_group>
			</buff>			
			
			<!-- SPELL: ICE -->
			<buff name="buffSpell_Ice" hidden="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group name="ICEBURN: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Iceburn" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Iceburn" operation="multiply" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Iceburn" operation="multiply" value="3">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>				
				
					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Amplify" operation="multiply" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Amplify" operation="multiply" value="7">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>
					
					<effect_group name="DEEP FREEZE: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_DeepFreeze" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_DeepFreeze" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_DeepFreeze" operation="multiply" value="8">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>

					<effect_group name="SUFFERING: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Suffering" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Suffering" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Suffering" operation="multiply" value="8">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Ice_Iceburn" operation="add" value="3" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Iceburn" operation="add" value="3" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Ice_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Ice_Amplify" operation="add" value="10" />							
					</effect_group>

					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$Ice_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$Ice_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<!-- RANK -->
					<effect_group name="RANK 1: ICEBURN">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LTE" value="1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$Ice_Iceburn"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".6,.6,0" duration="0,1,5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".6,.6,0" duration="0,1,5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".6,.6,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".6,.6,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".6,.6,0" duration="0,1,5" />
					</effect_group>

					<effect_group name="RANK 2: ICEBURN+">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="2"/>
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="4"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$Ice_Iceburn"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
					</effect_group>

					<effect_group name="RANK 2: SUBZERO">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="2"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="4"/>
					</effect_group>
					
					<effect_group name="RANK 5: ICEBURN++">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$Ice_Iceburn"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1,.9,0" duration="0,1,5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1,.9,0" duration="0,1,5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1,.9,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value="1,.9,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="1,.9,0" duration="0,1,5" />
					</effect_group>
					
					<effect_group name="RANK 3: DEEP FREEZE / CLEAR">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="3"/>
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GT" value="1"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Ice_DeepFreeze"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSpellImpactTrigger_Frozen"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="subtract" value="1" />
					</effect_group>
					
					<effect_group name="RANK 3-5: DEEP FREEZE+ / CLEAR">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GT" value="1"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Ice_DeepFreeze"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSpellImpactTrigger_Frozen"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="subtract" value="1" />
					</effect_group>
					
					<effect_group name="RANK 4: SUFFERING AOE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Ice_Suffering"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryIceStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Ice"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="2.5" buff="buffSorceryIceStacks_Add, buffSpellImpactTrigger_Ice, debuffSpell_IceSuffering" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$Ice_Amplify"/>
					</effect_group>
			</buff>
			
			<!-- SPELL: ICE SPIKE -->
			<buff name="buffSpell_IceSpike" hidden="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSpike_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSpike_Amplify" operation="multiply" value="15">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcespike" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSpike_Amplify" operation="multiply" value="30">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcespike" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>

					<effect_group name="SUFFER: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSpike_Suffer" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSpike_Suffer" operation="multiply" value="10">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcespike" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSpike_Suffer" operation="multiply" value="20">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcespike" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>
					
					
					<effect_group name="DEV">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="CVarLogValue" cvar="SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="buffSpell_IceSpike: START"/>
						<triggered_effect trigger="onSelfBuffStack" action="LogMessage" message="buffSpell_IceSpike: STACK"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="buffSpell_IceSpike: UPDATE"/>
					
						<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="$IceSpike_Amplify"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="$IceSpike_Suffer"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="$SorceryIceLethal"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="SorceryIceStack"/>
						
						<triggered_effect trigger="onSelfBuffRemove" action="CVarLogValue" cvar="SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffRemove" action="CVarLogValue" cvar="SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffRemove" action="LogMessage" message="buffSpell_IceSpike: REMOVE"/>
						<triggered_effect trigger="onSelfBuffFinish" action="LogMessage" message="buffSpell_IceSpike: FINISH"/>	 -->		
					</effect_group>

					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="10"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$IceSpike_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$IceSpike_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>					
					
					<!-- RANK -->
					<effect_group name="RANK 0-5: BASE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="10" duration="0,2"/>
					</effect_group>
					
					<effect_group name="RANK 0: BASE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$IceSpike_Suffer" duration="0,2"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".6" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".6" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".6" duration="0,2" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".6" duration="0,2" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".6" duration="0,2" />
					</effect_group>

					<effect_group tiered="false" name="RANK 2: SHATTER">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcespike" target="other" operation="GTE" value="2"/>
						<requirement name="HasBuff" buff="buffSpell_Frozen" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSpike_Suffer"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSpike_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="20"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSpike_Suffer"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSpike_Amplify"/>
						<!-- cripple -->
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="perc_set" value="0" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_set" value="0" duration="0,2"/>
						<passive_effect name="JumpStrength" operation="perc_set" value="0" duration="0,2"/>
						<passive_effect name="AttacksPerMinute" operation="perc_set" value="0" duration="0,2"/>
					</effect_group>
					
					<effect_group name="RANK 3: SUFFER">
						<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcespike" target="other" operation="GTE" value="3"/>
						<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$IceSpike_Suffer"/>
						<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryIceStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Ice"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="20"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSpike_Suffer"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSpike_Amplify"/>
					</effect_group>
			</buff>
			
			<!-- SPELL: ICE STORM -->
			<buff name="buffSpell_IceStorm" hidden="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/>

					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_IceStorm" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_icestorm" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceStorm-finish" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceStorm.unity3d?iceStorm"/>
					</effect_group>

					<effect_group name="ICEBURN: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Iceburn" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Iceburn" operation="multiply" value="2" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Iceburn" operation="multiply" value="4" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>					
					
					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Amplify" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Amplify" operation="multiply" value="10" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Amplify" operation="multiply" value="14" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>

					<effect_group name="SUFFER: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_SufferChance" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_SufferChance" operation="multiply" value="10" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_SufferChance" operation="multiply" value="14" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStorm_Iceburn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Iceburn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStorm_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStorm_SufferChance" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStorm_SufferChance" operation="add" value="5" />				
					</effect_group>					
					
					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>					
					</effect_group>
					
					<effect_group name="BASE AOE">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="5" buff="debuffSpell_IceStormAOE" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="5" buff="debuffSpell_IceStormAOE" target_tags="ally,party"/>
					</effect_group>
					
					<!-- RANK -->
					<effect_group name="RANK 0-1: ICEBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$IceStorm_Iceburn" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".5"  />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".5"  />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".5"  />
					</effect_group>
					
					<effect_group name="RANK 2: ICEBURN+">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="2"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40" target="self"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$IceStorm_Iceburn" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".3" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".3" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".3"  />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".3"  />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".3"  />
					</effect_group>
					
					<effect_group name="RANK 3: SUFFER">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$IceStorm_SufferChance" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="subtract" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Ice"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceStorm_Amplify"/>
					</effect_group>
					
					<effect_group name="RANK 4: ICEPOCALYPSE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="8"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryIceStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_IceStormFreeze"/>
					</effect_group>					
					
					<effect_group name="Finish">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffSpellLasting_IceStorm" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceStorm"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceStorm-finish.unity3d?iceStorm-finish"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryIce_icestorm"/>
					</effect_group>
			</buff>
			
			<!-- SPELL: ICE STORM AOE -->
			<buff name="debuffSpell_IceStormAOE" hidden="true"> 
				<damage_type value="cold"/>	
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryIceStacks" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_IceStorm" target="self"/>
					</effect_group>

					<effect_group name="ICEBURN: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Iceburn" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Iceburn" operation="multiply" value="2" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Iceburn" operation="multiply" value="4" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>					
					
					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Amplify" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Amplify" operation="multiply" value="10" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Amplify" operation="multiply" value="14" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>

					<effect_group name="SUFFER: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_SufferChance" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_SufferChance" operation="multiply" value="10" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_SufferChance" operation="multiply" value="14" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>		
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStormAOE_Iceburn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Iceburn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStormAOE_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceStormAOE_SufferChance" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceStormAOE_SufferChance" operation="add" value="5" />				
					</effect_group>					
					
					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>					
					</effect_group>
					
					<!-- RANK -->
					<effect_group name="RANK 0-1: ICEBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$IceStormAOE_Iceburn" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".5"  />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".5"  />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".5"  />
					</effect_group>
					
					<effect_group name="RANK 2: ICEBURN+">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="2"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40" target="self"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$IceStormAOE_Iceburn" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".3" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".3" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".3"  />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".3"  />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".3"  />
					</effect_group>
					
					<effect_group name="RANK 3: SUFFER">
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self"/>
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$IceStormAOE_SufferChance" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="subtract" value="1" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSpellImpactTrigger_Ice"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceStormAOE_Amplify"/>
					</effect_group>		
					
					<effect_group name="RANK 4: ICEPOCALYPSE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryIceStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" target="self" cvar="SorceryIceStack" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_IceStormFreeze"/>
					</effect_group>					
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" buff="buffSpellLasting_IceStorm" />
					</effect_group>
			</buff>
			
			<!-- SPELL: ICE STORM FREEZE -->
			<buff name="debuffSpell_IceStormFreeze" hidden="true"> 
				<damage_type value="cold"/>	
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen" />
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_explode" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen.unity3d?iceFrozen" />	
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_cast" />
					</effect_group>
				
					<effect_group name="SUFFER: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SorceryIceStormFreeze_Suffer" operation="set" value="@SorceryIceStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SorceryIceStormFreeze_Suffer" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SorceryIceStormFreeze_Suffer" operation="multiply" value="8" target="self">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIcestorm" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>				
				
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$SorceryIceStormFreeze_Suffer" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$SorceryIceStormFreeze_Suffer" operation="add" value="10" />			
					</effect_group>				
				
					<effect_group name="RANK 4: ICEPOCALYPSE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$SorceryIceStormFreeze_Suffer" />
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" duration="0,3"/>
						<passive_effect name="RunSpeed" operation="perc_set" value="0" duration="0,3"/>
						<passive_effect name="CrouchSpeed" operation="perc_set" value="0" duration="0,3" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0" duration="0,3" />
						<passive_effect name="AttacksPerMinute" operation="perc_set" value="0" duration="0,3" />					
					
						<passive_effect name="WalkSpeed" operation="base_set" value="0" duration="0,3"/>
						<passive_effect name="RunSpeed" operation="base_set" value="0" duration="0,3"/>
						<passive_effect name="CrouchSpeed" operation="base_set" value="0" duration="0,3" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" duration="0,3" />
						<passive_effect name="AttacksPerMinute" operation="base_set" value="0" duration="0,3" />
					</effect_group>

					<effect_group name="FINISH">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen-finish.unity3d?iceFrozen-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" target="self" />
					</effect_group>
					
					<effect_group name="CLEANUP">
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryIce_cast" target="self" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceFrozen"/>
					</effect_group>
			</buff>

			
			
		<!--___________________________ ICE: DEBUFF ___________________________-->
			<!-- DEBUFF: ICE SUFFERING -->
			<buff name="debuffSpell_IceSuffering" hidden="true">
				<damage_type value="cold"/>	
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_Ice" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="multiply" value="4"/>
					</effect_group>

					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="multiply" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="multiply" value="7">
									<requirement name="ProgressionLevel" progression_name="perkSorcerySpellIceball" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>					
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$IceSuffering_Amplify" operation="add" value="10" />						
					</effect_group>

					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSuffering_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="@$IceSuffering_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="ICE: SUFFERING">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@SorceryIceStack"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" buff="buffSpellLasting_Ice" />
						<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpellLasting_Ice" /> -->
					</effect_group>
					
			</buff>			
			
			
			<!-- IMPACT: ICE FROZEN -->
			<buff name="buffSpellImpactTrigger_Frozen" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_explode" />
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_Frozen"/>
					</effect_group>
			</buff>			
			
			<buff name="buffSpellImpact_Frozen" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen.unity3d?iceFrozen" local_rotation="0,0,0" local_position="0,0,0"/>
						
						<!-- finish fx -->
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpell_Frozen"/>
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" target="self" sound="sorceryIce_cast" />
					</effect_group>
			</buff>			

			<!-- SPELL: ICE FROZEN -->
			<buff name="buffSpell_Frozen" hidden="true">
				<damage_type value="stun"/>
				<stack_type value="ignore"/>
				<duration value="6"/>
					<effect_group name="Ice: slow freeze">
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" duration="0,6"/>
						<passive_effect name="RunSpeed" operation="perc_set" value="0" duration="0,6"/>
						<passive_effect name="CrouchSpeed" operation="perc_set" value="0" duration="0,6" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0" duration="0,6" />
						<passive_effect name="AttacksPerMinute" operation="perc_set" value="0" duration="0,6" />					
					
						<passive_effect name="WalkSpeed" operation="base_set" value="0" duration="0,6"/>
						<passive_effect name="RunSpeed" operation="base_set" value="0" duration="0,6"/>
						<passive_effect name="CrouchSpeed" operation="base_set" value="0" duration="0,6" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" duration="0,6" />
						<passive_effect name="AttacksPerMinute" operation="base_set" value="0" duration="0,6" />
						
<!-- 						<passive_effect name="WalkSpeed" operation="base_set" value="1" duration="6"/>
						<passive_effect name="RunSpeed" operation="base_set" value="1" duration="6"/>
						<passive_effect name="CrouchSpeed" operation="base_set" value="1" duration="6" />
						<passive_effect name="JumpStrength" operation="base_set" value="1" duration="6" />
						<passive_effect name="AttacksPerMinute" operation="base_set" value="1" duration="6" /> -->
					</effect_group>
					
					<!-- finish fx -->
					<effect_group name="finish FX">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen-finish" />
						<!-- <triggered_effect trigger="onSelfDied" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen-finish.unity3d?iceFrozen-finish" /> -->
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen-finish.unity3d?iceFrozen-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" />
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryIce_cast" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceFrozen"/>
						<!-- <triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffSpell_Frozen"/> -->
					</effect_group>
			</buff>			
			
	
		<!--___________________________ LIGHTNING: SORCERY ___________________________-->
		<!--___________________________ LIGHTNING: IMPACT ___________________________-->
			<!-- IMPACT: LIGHTNING -->
			<buff name="buffSpellImpactTrigger_Lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningImpact"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_impact" /> -->
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_Lightning"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_Lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningImpact.unity3d?lightningImpact" parent_transform="Hips"/>
					</effect_group>
			</buff>
		
			<!-- IMPACT: LIGHTNING NOVA -->
			<buff name="buffSpellImpactTrigger_LightningNova" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningImpactExplode"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_LightningNova"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_LightningNova" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningImpactExplode.unity3d?lightningImpactExplode" parent_transform="Hips"/>
					</effect_group>
			</buff>
		
			<!-- DISABLED - IMPACT: LIGHTNING STRIKE -->
			<buff name="buffSpellImpactTrigger_LightningStrike" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningStrike"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_impact" /> -->
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_LightningStrike"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_LightningStrike" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/>
					</effect_group>
			</buff>	
	
		<!--___________________________ LIGHTNING: SPELLS ___________________________-->
			<!-- SPELL: LIGHTNING -->
			<buff name="buffSpell_Lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningArc.unity3d?lightningArc" parent_transform="Hips"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningDischarge.unity3d?lightningDischarge"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/> -->
					</effect_group>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ShockBurn" operation="multiply" value="4" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Shockburn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ShockBurn" operation="multiply" value="6" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_Amplify" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_Amplify" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_Amplify" operation="multiply" value="8" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Electrocute">
							<requirement name="CVarCompare" cvar="$Lightning_ElectrocuteChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ElectrocuteChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ElectrocuteChance" operation="multiply" value="3" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="2"/>
						</triggered_effect>
							<!-- RANK 2: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ElectrocuteChance" operation="multiply" value="6" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
							</triggered_effect>						
							<!-- RANK 5: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ElectrocuteChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>					
					
					<effect_group name="CVAR: Debilitate">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_DebilitateChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_DebilitateChance" operation="multiply" value="8" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Debilitate -->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_DebilitateChance" operation="multiply" value="12" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>					
					
					<effect_group name="CVAR: Arc">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ArcChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ArcChance" operation="multiply" value="8" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="4"/>
						</triggered_effect>
							<!-- RANK 4: Arc-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ArcChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="Equals" value="4"/>
							</triggered_effect>
							<!-- RANK 5: Arc-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ArcChance" operation="multiply" value="12" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning_ShockBurn" operation="add" value="4" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ShockBurn" operation="add" value="4" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning_DebilitateChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_DebilitateChance" operation="add" value="10" />					
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$Lightning_ArcChance" operation="add" value="40" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$Lightning_ArcChance" operation="add" value="40" />						
					</effect_group>	
					
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$Lightning_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$Lightning_Amplify"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>						
					</effect_group>				
					
					<effect_group name="LIGHTNING STRIKE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
					</effect_group>
					
					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$Lightning_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>

					<effect_group name="RANK 1: ARC">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Lightning_ArcChance" target="self"/>
							<requirement name="IsLookingAtEntity" tags="player" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="4" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" range="4" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
					</effect_group>
					
					<effect_group name="RANK 4: ARC+">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Lightning_ArcChance" target="self"/>
							<requirement name="IsLookingAtEntity" tags="player" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="6" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" range="6" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
					</effect_group>					
					
					<effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Lightning_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
					</effect_group>					

					<effect_group name="RANK 3: DEBILITATE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Lightning_DebilitateChance" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningDebilitate"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningDebilitate"/>		
					</effect_group>		

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningArc"/>
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningDischarge"/> -->
					</effect_group>
			</buff>	
	
			<!-- TRIGGER: LIGHTNING ARC -->
			<buff name="debuffSpellTrigger_LightningArc" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="1"/>
				<update_rate value="1"/>
					<effect_group name="CHECKPOINT: PASS">
							<requirement name="IsLookingAtEntity" tags="player" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryLightningStack" operation="add" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffSorceryLightningStacks_Add, buffSpellImpactTrigger_LightningNova, debuffSpell_LightningArc"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" target="self" cvar="SorceryLightningStack" operation="add" value="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffSorceryLightningStacks_Add, buffSpellImpactTrigger_LightningNova, debuffSpell_LightningArc"/>
					</effect_group>
			</buff>		
	
			<!-- SPELL: LIGHTNING ARC -->
			<buff name="debuffSpell_LightningArc" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>

					<effect_group name="CVAR: Shockburn">
							<requirement name="CVarCompare" cvar="$LightningArc_ShockBurn" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ShockBurn" operation="multiply" value="4" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Shockburn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ShockBurn" operation="multiply" value="6" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_Amplify" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_Amplify" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_Amplify" operation="multiply" value="8" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Electrocute">
							<requirement name="CVarCompare" cvar="$LightningArc_ElectrocuteChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ElectrocuteChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ElectrocuteChance" operation="multiply" value="2" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="2"/>
						</triggered_effect>
							<!-- RANK 2: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ElectrocuteChance" operation="multiply" value="5" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
							</triggered_effect>						
							<!-- RANK 5: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ElectrocuteChance" operation="multiply" value="8" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>					
					
					<effect_group name="CVAR: Debilitate">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_DebilitateChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_DebilitateChance" operation="multiply" value="7" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Debilitate -->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_DebilitateChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>					
					
					<effect_group name="CVAR: Arc">
							<requirement name="CVarCompare" cvar="$LightningArc_ArcChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ArcChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ArcChance" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="4"/>
						</triggered_effect>
							<!-- RANK 4: Arc-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ArcChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="Equals" value="4"/>
							</triggered_effect>
							<!-- RANK 5: Arc-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ArcChance" operation="multiply" value="15" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningArc_ShockBurn" operation="add" value="4" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ShockBurn" operation="add" value="4" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningArc_Amplify" operation="add" value="15" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_Amplify" operation="add" value="15" />						
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningArc_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningArc_DebilitateChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_DebilitateChance" operation="add" value="10" />					
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningArc_ArcChance" operation="add" value="40" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningArc_ArcChance" operation="add" value="40" />						
					</effect_group>
					
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningArc_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningArc_Amplify"/>						
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>						
					</effect_group>			

					<effect_group name="LIGHTNING STRIKE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
					</effect_group>

					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningArc_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>					

					<effect_group name="RANK 1: ARC">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="4"/>
							<requirement name="NotHasBuff" buff="debuffSpell_LightningArc, debuffSpellTrigger_LightningArc"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningArc_ArcChance" target="self"/>
							<requirement name="IsLookingAtEntity" tags="player" />
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="4" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" range="4" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
					</effect_group>
					
					<effect_group name="RANK 4: ARC+">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="4"/>
							<requirement name="NotHasBuff" buff="debuffSpell_LightningArc, debuffSpellTrigger_LightningArc"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningArc_ArcChance" target="self"/>
							<requirement name="IsLookingAtEntity" tags="player" />
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="6" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" range="6" target_tags="ally,party" buff="debuffSpellTrigger_LightningArc"/>
					</effect_group> 					
					
					<effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningArc_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>						
					</effect_group>					

					<effect_group name="RANK 3: DEBILITATE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningArc_DebilitateChance" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningDebilitate"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningDebilitate"/>			
					</effect_group>						

			</buff>	
	
			<!-- SPELL: LIGHTNING ELECTROCUTE -->
			<buff name="debuffSpell_LightningElectrocute" hidden="true" remove_on_death="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="electric_fence_impact" />
					</effect_group>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_ShockBurn" operation="multiply" value="5" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Shockburn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_ShockBurn" operation="multiply" value="8" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_Amplify" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_Amplify" operation="multiply" value="10" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_Amplify" operation="multiply" value="20" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningElectrocute_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningElectrocute_Amplify" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningElectrocute_Amplify" operation="add" value="10" />						
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryLightningStack" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningElectrocute_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>				
					
					<effect_group name="ELECTROCUTE: Shockburn">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningElectrocute_ShockBurn" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,0" duration="0,2"/>
					</effect_group>

					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="electric_fence_impact" />
						<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="electric_fence_impact" />
					</effect_group>
			</buff>	
	
			<!-- SPELL: LIGHTNING DEBILITATE -->
			<buff name="debuffSpell_LightningDebilitate" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="10"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningDebilitate.unity3d?lightningDebilitate"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningDischarge.unity3d?lightningDischarge"/> -->
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningDebilitate_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningDebilitate_ShockBurn" operation="multiply" value="1" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Shockburn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningDebilitate_ShockBurn" operation="multiply" value="2" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningDebilitate_ShockBurn" operation="add" value="1" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningDebilitate_ShockBurn" operation="add" value="1" />
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryLightningStack" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
						</triggered_effect>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
					</effect_group>
					
					<effect_group name="DEBILITATE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningDebilitate_ShockBurn"/>
						<passive_effect name="HealthMax" operation="perc_subtract" value="0.10"/>						
						<passive_effect name="HealthGain" operation="perc_subtract" value="0.10"/>
						<passive_effect name="HealthLoss" operation="perc_add" value="0.10"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1,1,0" duration="0,1,10"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1,1,0" duration="0,1,10"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1,1,0" duration="0,1,10"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="1,1,0" duration="0,1,10"/>
					</effect_group>

					<effect_group name="cleanup">
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningDischarge"/> -->
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningDebilitate"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="sorceryChant" />
					</effect_group>
			</buff>		
	
			<!-- SPELL: LIGHTNING PARALYZE -->
			<buff name="debuffSpell_LightningParalyze" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="30"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningParalyze.unity3d?lightningParalyze"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryLightningStack" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
						</triggered_effect>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>

					<effect_group name="PARALYZE: PERMANENT DEBILITATION">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="1"/>
						<passive_effect name="HealthMax" operation="perc_subtract" value="0.10"/>						
						<passive_effect name="HealthGain" operation="perc_subtract" value="0.10"/>
						<passive_effect name="HealthLoss" operation="perc_add" value="0.10"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1,1,.8,0" duration="0,1,2,30"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1,1,.8,0" duration="0,1,2,30"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1,1,.8,0" duration="0,1,2,30"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="1,1,.8,0" duration="0,1,2,30"/>
					</effect_group>

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningParalyze"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="sorceryChant" />
					</effect_group>
			</buff>
			
			<!-- SPELL: LIGHTNING STRIKE -->
			<buff name="debuffSpell_LightningStrike" hidden="true" remove_on_death="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="5"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_strike" />
					</effect_group>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_ShockBurn" operation="multiply" value="7" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Shockburn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_ShockBurn" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
								
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_Amplify" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_Amplify" operation="multiply" value="15" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_Amplify" operation="multiply" value="20" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightning" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStrike_ShockBurn" operation="add" value="14" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_ShockBurn" operation="add" value="14" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStrike_Amplify" operation="add" value="30" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStrike_Amplify" operation="add" value="30" />
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" target="self" cvar="SorceryLightningStack" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningStrike_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningStrike_Amplify"/>						
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>				
					
					<effect_group name="ELECTROCUTE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningStrike_ShockBurn" duration="0,1"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,0" duration="0,1"/>						
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/> -->
					</effect_group>					
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStrike"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="sorceryLightning_strike" />
					</effect_group>
			</buff>		
	
			<!-- SPELL: LIGHTNING ENERGY SHIELD SHOCKBURN -->
			<buff name="debuffSpell_LightningEnergyShieldShockburn" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningEnergyShield_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningEnergyShield_ShockBurn" operation="multiply" value="4" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningEnergyShield_ShockBurn" operation="set" value="4" target="self">
							<requirement name="CVarCompare" cvar="$LightningEnergyShield_ShockBurn" operation="LT" value="4" target="self" />
						</triggered_effect>
					</effect_group>
					
					<effect_group name="FX">
						<triggered_effect name="onSelfBuffStart" action="AddBuff" buff="buffSorceryLightningStacks_Add, buffSpellImpactTrigger_LightningNova"/>
					</effect_group>
					
					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>			

					<effect_group name="SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningEnergyShield_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
			</buff>	
	
			<!-- SPELL: LIGHTNING NOVA -->
			<buff name="buffSpell_LightningNova" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ShockBurn" operation="multiply" value="6" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Shockburn-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ShockBurn" operation="multiply" value="9" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_Amplify" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_Amplify" operation="multiply" value="15" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_Amplify" operation="multiply" value="20" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Electrocute">
							<requirement name="CVarCompare" cvar="$LightningNova_ElectrocuteChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ElectrocuteChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ElectrocuteChance" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="LT" value="2"/>
						</triggered_effect>
							<!-- RANK 2: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ElectrocuteChance" operation="multiply" value="15" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="LT" value="5"/>
							</triggered_effect>						
							<!-- RANK 5: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ElectrocuteChance" operation="multiply" value="18" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>			
					
					<effect_group name="CVAR: Paralyze">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ParalyzeChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ParalyzeChance" operation="multiply" value="8" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Paralyze -->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ParalyzeChance" operation="multiply" value="12" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>					
					
					<effect_group name="CVAR: Conduit">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ConduitChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ConduitChance" operation="multiply" value="10" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Arc-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ConduitChance" operation="multiply" value="16" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>		
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningNova_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningNova_Amplify" operation="add" value="20" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_Amplify" operation="add" value="20" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningNova_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningNova_ParalyzeChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ParalyzeChance" operation="add" value="10" />					
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningNova_ConduitChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningNova_ConduitChance" operation="add" value="10" />						
					</effect_group>					
					
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningNova_Amplify"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="@$LightningNova_Amplify"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>					
					</effect_group>	
					
					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningNova_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					
					<effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningNova_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
					</effect_group>					

					<effect_group name="RANK 3: PARALYZE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningNova_ParalyzeChance" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1"/>
							<!-- <requirement name="NotHasBuff" buff="debuffSpell_LightningParalyze" /> -->
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningParalyze"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningParalyze"/>		
					</effect_group>		
					
					<effect_group name="RANK 4: CONDUIT">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningNova" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningNova_ConduitChance" target="self"/>
							<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="GTE" value="1" target="self" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
					</effect_group>
					
			</buff>	
				
			<!-- SPELL: LIGHTNING STORM -->
			<buff name="buffSpell_LightningStorm" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningStorm-finish" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStorm.unity3d?lightningStorm"/>						
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_lightningstorm" target="self"/>
					</effect_group>

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ShockBurn" operation="multiply" value="3" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5 -->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ShockBurn" operation="multiply" value="6" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Electrocute">
							<requirement name="CVarCompare" cvar="$LightningStorm_ElectrocuteChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="2"/>
						</triggered_effect>
							<!-- RANK 2: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="4"/>
							</triggered_effect>
							<!-- RANK 4: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="multiply" value="15" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="Equals" value="4"/>
							</triggered_effect>				
							<!-- RANK 5: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="multiply" value="18" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
					
					<effect_group name="CVAR: Debilitate">
							<requirement name="CVarCompare" cvar="$LightningStorm_DebilitateChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="3"/>
						</triggered_effect>
							<!-- RANK 3: Debilitate-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="multiply" value="5" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="4"/>
							</triggered_effect>
							<!-- RANK 4: Debilitate-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="Equals" value="4"/>
							</triggered_effect>				
							<!-- RANK 5: Debilitate-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="multiply" value="15" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStorm_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="add" value="8" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStorm_DebilitateChance" operation="add" value="8" />				
					</effect_group>

					<effect_group name="AOE: BASE">
							<requirement name="IsLookingAtEntity" tags="player" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="5" buff="debuffSpell_LightningStormAOE" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="5" buff="debuffSpell_LightningStormAOE" target_tags="ally,party"/>
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
										
					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningStorm_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					
					<effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningStorm_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
					</effect_group>

					<effect_group name="RANK 3: DEBILITATE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningStorm_DebilitateChance" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_LightningDebilitate"/>
					</effect_group>

					<effect_group name="RANK 4: LIGHTNING STRIKE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
					</effect_group>

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStorm"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStorm-finish.unity3d?lightningStorm-finish"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="sorceryLightning_lightningstorm"/>				
					</effect_group>
			</buff>	
	
			<!-- SPELL: LIGHTNING STORM AOE -->
			<buff name="debuffSpell_LightningStormAOE" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
				
					<effect_group name="FX: Initial">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_LightningNova, buffSorceryLightningStacks_Add" target="self"/>
					</effect_group>				

					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ShockBurn" operation="multiply" value="3" target="self" >
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5 -->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ShockBurn" operation="multiply" value="6" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Electrocute">
							<requirement name="CVarCompare" cvar="$LightningStormAOE_ElectrocuteChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="2"/>
						</triggered_effect>
							<!-- RANK 2: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="4"/>
							</triggered_effect>
							<!-- RANK 4: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="multiply" value="15" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="Equals" value="4"/>
							</triggered_effect>				
							<!-- RANK 5: Electrocute-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="multiply" value="18" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>
					
					<effect_group name="CVAR: Debilitate">
							<requirement name="CVarCompare" cvar="$LightningStormAOE_DebilitateChance" operation="Equals" value="1" target="self"/>					
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="set" value="@SorceryLightningStack" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="multiply" value="5" target="self">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="3"/>
						</triggered_effect>
							<!-- RANK 3: Debilitate-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="multiply" value="5" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="2"/>
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="LT" value="4"/>
							</triggered_effect>
							<!-- RANK 4: Debilitate-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="multiply" value="10" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="Equals" value="4"/>
							</triggered_effect>				
							<!-- RANK 5: Debilitate-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="multiply" value="15" target="self">
								<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>

					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStormAOE_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ShockBurn" operation="add" value="5" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_ElectrocuteChance" operation="add" value="10" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="add" value="8" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$LightningStormAOE_DebilitateChance" operation="add" value="8" />				
					</effect_group>

					<effect_group name="IMPACT: Stagger">
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,1"/>						
					</effect_group>
										
					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$LightningStormAOE_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					
					<effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningStormAOE_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
					</effect_group>

					<effect_group name="RANK 3: DEBILITATE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="3"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$LightningStormAOE_DebilitateChance" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_LightningDebilitate"/>
					</effect_group>

					<effect_group name="RANK 4: LIGHTNING STRIKE">
							<requirement name="ProgressionLevel" progression_name="perkSorcerySpellLightningStorm" target="other" operation="GTE" value="4"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
					</effect_group>

			</buff>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
<!--___________________________ RUNES: SORCERY ARMOR ___________________________-->	
			<!-- RUNE: FIRE SKIN -->
			<buff name="buffRune_fireskin" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value=".1"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<requirement name="NotHasBuff" buff="buffInjuryBleeding"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>
					<effect_group name="FIRE SKIN">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRune_fireskin" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>

			<buff name="debuffRune_fireskin" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="p_onFire" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneFireskin_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneFireskin_Amplify" operation="multiply" value="5"/>	
					</effect_group>
				
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireskin_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireskin_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireskin_Amplify" operation="multiply" value="10">
								<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
				
				<effect_group name="FIRE SKIN: ENGULF">
					<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
					<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$RuneFireskin_Amplify"/>
				</effect_group>
				
				<effect_group name="cleanup">
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire" />
				</effect_group>
			</buff>
	
	
			<!-- RUNE: ICE SKIN -->
			<buff name="buffRune_iceskin" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value=".1"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
							<requirement name="NotHasBuff" buff="buffInjuryBleeding"/>
					</effect_group>				
					<effect_group name="ICE SKIN">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRune_iceskin" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>
			<buff name="debuffRune_iceskin" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_Ice" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneIceskin_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneIceskin_Amplify" operation="multiply" value="5"/>
					</effect_group>

					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneIceskin_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneIceskin_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneIceskin_Amplify" operation="multiply" value="10">
									<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>
					
					<effect_group name="ICE SKIN: ICEBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$RuneIceskin_Amplify"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" buff="buffSpellLasting_Ice" />
					</effect_group>
			</buff>

			<!-- RUNE: LIGHTNING SKIN -->
			<buff name="buffRune_lightningskin" hidden="true"> 
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="5"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="RUNE">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRune_lightningskin" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>
			<buff name="debuffRune_lightningskin" hidden="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="1"/>
				<update_rate value="1"/>
					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="electric_fence_impact" />
					</effect_group>
					<effect_group name="ELECTROCUTE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5" duration="0,1"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="1"/>
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="electric_fence_impact" />
						<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="electric_fence_impact" />
					</effect_group>
			</buff>
			
	
			<!-- RUNE: FIRE NOVA -->
			<buff name="buffRune_firenova" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="FIRE NOVA">
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryFireball_explode" target="self" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="4" buff="debuffRune_firenova" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>

			<buff name="debuffRune_firenova" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneFireNova_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneFireNova_Amplify" operation="multiply" value="5"/>					
					</effect_group>
				
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireNova_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireNova_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireNova_Amplify" operation="multiply" value="10">
								<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
					
					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="Ragdoll" target="self" duration="1"/>
					</effect_group>
					
					<effect_group name="FIRE NOVA">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="10"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$RuneFireNova_Amplify"/>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire" />
					</effect_group>
			</buff>
	
	
			<!-- RUNE: ICE NOVA -->
			<buff name="buffRune_icenova" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="ICE NOVA">
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_explode" target="self" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="4" buff="debuffRune_icenova" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>

			<buff name="debuffRune_icenova" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_Ice" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneIcenova_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneIcenova_Amplify" operation="multiply" value="5"/>
					</effect_group>

					<effect_group name="AMPLIFY: CVAR">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneIcenova_Amplify" operation="set" value="@SorceryIceStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneIcenova_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="LT" value="5"/>
						</triggered_effect>
								<!-- RANK 5-->
								<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneIcenova_Amplify" operation="multiply" value="10">
									<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="GTE" value="5"/>
								</triggered_effect>
					</effect_group>		
					
					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="Ragdoll" target="self" duration="1"/>
					</effect_group>

					<effect_group name="ICE NOVA">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$RuneIcenova_Amplify"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".9,.8,0" duration="0,1,3" />
					</effect_group>					
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" buff="buffSpellLasting_Ice" />
					</effect_group>
			</buff>
	
	
	
	
<!--___________________________ RUNES: SORCERY SPELLCAST ___________________________-->	
			<!-- RUNE: FIRE STORM -->
			<buff name="buffRune_firestorm" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="1"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="RUNE">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRune_firestorm" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>

			<buff name="debuffRune_firestorm" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireTornadoClone-finish" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornadoClone.unity3d?fireTornadoClone">
							<requirement name="NotHasBuff" buff="buffSpellFirestorm"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneFireStorm_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RuneFireStorm_Amplify" operation="multiply" value="5"/>						
					</effect_group>
				
					<effect_group name="CVAR: Amplify">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireStorm_Amplify" operation="set" value="@SorceryFireStack"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireStorm_Amplify" operation="multiply" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="LT" value="5"/>
						</triggered_effect>
							<!-- RANK 5: Amplify-->
							<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$RuneFireStorm_Amplify" operation="multiply" value="10">
								<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="GTE" value="5"/>
							</triggered_effect>
					</effect_group>				
				
					<effect_group name="FIRE STORM">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$RuneFireStorm_Amplify"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".3,.1,.3,0" duration="0,1,2,3" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".3,.1,.3,0" duration="0,1,2,3" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".3,.1,.3,0" duration="0,1,2,3" />
						<passive_effect name="JumpStrength" operation="perc_add" value=".5" />
					</effect_group>				

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireTornadoClone"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireTornadoClone-finish.unity3d?fireTornadoClone-finish">
							<requirement name="NotHasBuff" buff="buffSpellFirestorm"/>
						</triggered_effect>			
					</effect_group>
			</buff>
	
	
			<!-- RUNE: DEEP FREEZE -->
			<buff name="buffRune_deepfreeze" hidden="true"> 
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="RUNE">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRune_deepfreeze" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>

			<buff name="debuffRune_deepfreeze" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen" />
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_explode" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen.unity3d?iceFrozen" />	
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_cast" />
					</effect_group>
				
					<effect_group name="RUNE">
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" duration="0,3"/>
						<passive_effect name="RunSpeed" operation="perc_set" value="0" duration="0,3"/>
						<passive_effect name="CrouchSpeed" operation="perc_set" value="0" duration="0,3" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0" duration="0,3" />
						<passive_effect name="AttacksPerMinute" operation="perc_set" value="0" duration="0,3" />					
					
						<passive_effect name="WalkSpeed" operation="base_set" value="0" duration="0,3"/>
						<passive_effect name="RunSpeed" operation="base_set" value="0" duration="0,3"/>
						<passive_effect name="CrouchSpeed" operation="base_set" value="0" duration="0,3" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" duration="0,3" />
						<passive_effect name="AttacksPerMinute" operation="base_set" value="0" duration="0,3" />
					</effect_group>

					<effect_group name="FINISH">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen-finish.unity3d?iceFrozen-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" target="self" />
					</effect_group>
					
					<effect_group name="CLEANUP">
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryIce_cast" target="self" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceFrozen"/>
					</effect_group>
			</buff>


			<!-- RUNE: LIGHTNING STRIKE -->
			<buff name="buffRune_lightningstrike" hidden="true"> 
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="5"/>
					<effect_group name="SFX">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="RUNE">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRune_lightningstrike" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>

			<buff name="debuffRune_lightningstrike" hidden="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_strike" />
					</effect_group>
					
					<effect_group name="ELECTROCUTE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="20" duration="0,1"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,0" duration="0,1"/>	
					</effect_group>					
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStrike"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="sorceryLightning_strike" />
					</effect_group>
			</buff>			
			
			
	<!--___________________________ RUNES: UNIQUE / SUPPORTER ___________________________-->
			<!-- RUNE: TRANSMUTE ESSENCE FIRE --> 
			<buff name="runeTransmute_essencefire" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencefire" operation="set" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencefire" operation="add" value="@$sorceryIceMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencefire" operation="add" value="@$sorceryLightningMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencefire_C2" operation="set" value="@$runeTransmute_essencefire"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencefire_C2" operation="multiply" value=".1"/>
						<passive_effect name="HarvestCount" operation="base_add" value="-100" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="base_add" value="-100" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$runeTransmute_essencefire_C2" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>						
					</effect_group>
			</buff>
			<!-- RUNE: TRANSMUTE ESSENCE ICE --> 
			<buff name="runeTransmute_essenceice" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essenceice" operation="set" value="@$sorceryIceMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essenceice" operation="add" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essenceice" operation="add" value="@$sorceryLightningMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essenceice_C2" operation="set" value="@$runeTransmute_essenceice"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essenceice_C2" operation="multiply" value=".1"/>
						<passive_effect name="HarvestCount" operation="base_add" value="-100" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="base_add" value="-100" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$runeTransmute_essenceice_C2" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
					</effect_group>
			</buff>	
			<!-- RUNE: TRANSMUTE ESSENCE LIGHTNING --> 
			<buff name="runeTransmute_essencelightning" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencelightning" operation="set" value="@$sorceryLightningMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencelightning" operation="add" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencelightning" operation="add" value="@$sorceryIceMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencelightning_C2" operation="set" value="@$runeTransmute_essencelightning"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeTransmute_essencelightning_C2" operation="multiply" value=".1"/>
						<passive_effect name="HarvestCount" operation="base_add" value="-100" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="HarvestCount" operation="base_add" value="-100" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$runeTransmute_essencelightning_C2" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
					</effect_group>
			</buff>		
		
			<!-- RUNE: SPELL LIGHT -->
			<buff name="runeGeneral_spelllight" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fx_spelllight.unity3d?fx_spelllight"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="fx_spelllight/T2"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="fx_spelllight/T3"/>				
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" transform_path="fx_spelllight/T1"/>
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fx_spelllight">
						<requirement name="NotHasBuff" buff="runeGeneral_spelllight2"/>
						<requirement name="NotHasBuff" buff="runeGeneral_spelllight3"/>
					</triggered_effect>
				</effect_group>
			</buff>
			<buff name="runeGeneral_spelllight2" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fx_spelllight.unity3d?fx_spelllight"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="fx_spelllight/T1"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="fx_spelllight/T3"/>			
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" transform_path="fx_spelllight/T2"/>
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fx_spelllight">
						<requirement name="NotHasBuff" buff="runeGeneral_spelllight"/>
						<requirement name="NotHasBuff" buff="runeGeneral_spelllight3"/>
					</triggered_effect>
				</effect_group>
			</buff>		
			<buff name="runeGeneral_spelllight3" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fx_spelllight.unity3d?fx_spelllight"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="fx_spelllight/T1"/>
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="fx_spelllight/T2"/>				
					<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" transform_path="fx_spelllight/T3"/>
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fx_spelllight">
						<requirement name="NotHasBuff" buff="runeGeneral_spelllight"/>
						<requirement name="NotHasBuff" buff="runeGeneral_spelllight2"/>
					</triggered_effect>
				</effect_group>
			</buff>
		
	<!--___________________________ RUNES: UNIQUE / SUPPORTER ___________________________-->	
			<!-- RUNE: ALTIN'S TOUCH -->
			<buff name="buffRuneUnique_altinstouch" hidden="true"> 
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group name="SFX">
								<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="25"/>
							<triggered_effect trigger="onSelfBuffStart" action="FadeOutSound" target="self" sound="sorceryChant" />
							<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryChant" />
					</effect_group>				
					<effect_group name="RUNE">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" target="self" operation="subtract" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="debuffRuneUnique_altinstouch" target_tags="animal,hostile,zombie,npc,survivor,bandit,bandits,mutant,demon"/>
					</effect_group>
			</buff>
 
			<buff name="debuffRuneUnique_altinstouch" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="RANDOM: T1 Spell">
						<!-- FIRE -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="FireStacksPlayer" operation="add" value="1" target="other">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,152" operation="GTE" value="100"/>
							<requirement name="CVarCompare" cvar="FireStacksPlayer" operation="LT" value="4" target="other"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryFireStacks_Player" target="other">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,152" operation="GTE" value="100"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryFireStack" operation="add" value="1">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,152" operation="GTE" value="100"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryFireStacks_Add, buffSpellImpactTrigger_Fire, debuffRuneUnique_altinstouch_fire">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,152" operation="GTE" value="100"/>
						</triggered_effect>						
						<!-- ICE -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="IceStacksPlayer" operation="add" value="1" target="other">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="GT" value="50"/>
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LT" value="100"/>
							<requirement name="CVarCompare" cvar="IceStacksPlayer" operation="LT" value="4" target="other"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryIceStacks_Player" target="other">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="GT" value="50"/>
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LT" value="100"/>
						</triggered_effect>						
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryIceStack" operation="add" value="1">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="GT" value="50"/>
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LT" value="100"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryIceStacks_Add, buffSpellImpactTrigger_Ice, debuffRuneUnique_altinstouch_ice">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="GT" value="50"/>
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LT" value="100"/>						
						</triggered_effect>
						<!-- LIGHTNING -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="LightningStacksPlayer" operation="add" value="1" target="other">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LTE" value="50"/>
							<requirement name="CVarCompare" cvar="LightningStacksPlayer" operation="LT" value="4" target="other"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryLightningStacks_Player" target="other">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LTE" value="50"/>
						</triggered_effect>						
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="SorceryLightningStack" operation="add" value="1">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LTE" value="50"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryLightningStacks_Add, buffSpellImpactTrigger_Lightning, debuffRuneUnique_altinstouch_lightning">
							<requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,150" operation="LTE" value="50"/>
						</triggered_effect>						
					</effect_group>
				
				
					<effect_group name="FX">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/> -->
					</effect_group>
			</buff>
			
			<buff name="debuffRuneUnique_altinstouch_fire" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="8"/>
				<update_rate value="1"/>
					<effect_group name="CVAR: Burn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Fire_Burn" operation="set" value="@SorceryFireStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Fire_Burn" operation="multiply" value="1" target="self"/>
					</effect_group>
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$altinstouch_Fire_Burn" operation="add" value="2" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Fire_Burn" operation="add" value="2" />				
					</effect_group>	
					
					<effect_group name="IMPACT: Stagger">			
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="BURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$altinstouch_Fire_Burn"/>
					</effect_group>
					
					<effect_group name="EXPLODE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="Ragdoll" target="self" duration="1"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="10"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" target="self" stat="Health" operation="subtract" value="10"/> -->
					</effect_group>		
			</buff>			
			
			<buff name="debuffRuneUnique_altinstouch_ice" hidden="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group name="CVAR: Iceburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Ice_Iceburn" operation="set" value="@SorceryIceStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Ice_Iceburn" operation="multiply" value="2" target="self"/>
					</effect_group>
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$altinstouch_Ice_Iceburn" operation="add" value="3" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Ice_Iceburn" operation="add" value="3" />				
					</effect_group>	
					
					<effect_group name="IMPACT: Stagger">			
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="ICEBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$altinstouch_Ice_Iceburn"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".6,.6,0" duration="0,1,5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".6,.6,0" duration="0,1,5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".6,.6,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".6,.6,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".6,.6,0" duration="0,1,5" />
					</effect_group>
					
					<effect_group name="CHILL">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10" target="self"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".2"/>
					</effect_group>			
			</buff>
			
			<buff name="debuffRuneUnique_altinstouch_lightning" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group name="CVAR: Shockburn">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Lightning_ShockBurn" operation="set" value="@SorceryLightningStack" target="self" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Lightning_ShockBurn" operation="multiply" value="4" target="self"/>
					</effect_group>
					
					<effect_group name="CVAR: Default Minimums">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$altinstouch_Lightning_ShockBurn" operation="add" value="4" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$altinstouch_Lightning_ShockBurn" operation="add" value="4" />				
					</effect_group>	
					
					<effect_group name="IMPACT: Stagger">			
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					
					<effect_group name="SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$altinstouch_Lightning_ShockBurn"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					
					<effect_group name="ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10" target="self"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9,0" duration="0,1.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9,0" duration="0,1.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9,0" duration="0,1.5"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="0.9,0" duration="0,1.5"/>
					</effect_group>					
			</buff>			
			
			<!-- RUNE: ALTIN'S BLESSING -->
			<buff name="runeUnique_altinsblessing" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group>
							<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="@$sorceryRuneMastery_cost50"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_altinsblessing" operation="set" value="@$sorceryMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_altinsblessing" operation="multiply" value="2"/>
						<passive_effect name="StaminaMax" operation="base_add" value="@$runeUnique_altinsblessing"/>
						<passive_effect name="StaminaMax" operation="base_add" value="@$runeUnique_altinsblessing">
							<requirement name="HoldingItemHasTags" tags="spellcast"/>
						</passive_effect>						
						<passive_effect name="AttributeLevel" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="$sorceryMastery" operation="GTE" value="10"/>
						</passive_effect>				
					</effect_group>
					<effect_group name="Proc">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="self" buff="buffRuneUnique_altinsblessing"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="buffEntity_SorceryUpdate, debuffRuneUnique_altinsblessing"/>					
					</effect_group>
			</buff>
			<buff name="buffRuneUnique_altinsblessing" hidden="true">
				<stack_type value="ignore"/>
				<update_rate value="1"/>
				<duration value="60"/>
					<effect_group name="BLESSING: Cooldown">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffInjuryBleeding,buffInjuryStunned1,buffInjuryKnockdown1,buffInjuryUnconscious,buffInjuryConcussion,buffShocked,buffBurningElement,buffBurningEnvironment,buffBurningFlamingArrow,buffBurningMolotov,buffBurning"/>					
						<passive_effect name="HealthChangeOT" operation="base_add" value="4" duration="0,5"/>
						<passive_effect name="StaminaChangeOT" operation="base_add" value="4" duration="0,5"/>
						<passive_effect name="HealthMaxModifierOT" operation="base_add" value="1" duration="0,5"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="1" duration="0,5"/>
					</effect_group>
			</buff>				
			<buff name="debuffRuneUnique_altinsblessing" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<update_rate value="1"/>
				<duration value="60"/>
					<effect_group name="METEOR: Cooldown">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_FireMeteor_Proc"/>
					</effect_group>
			</buff>
			<!-- SPELL: Fire Meteor Proc-->
			<buff name="buffSpellImpactTrigger_FireMeteor_Proc" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireMeteor"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_FireMeteor_Proc"/>
					</effect_group>
			</buff>				
			<buff name="buffSpellImpact_FireMeteor_Proc" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="effect"/>
				<duration value="1.5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireMeteor.unity3d?fireMeteor"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpell_FireMeteor_Proc"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="selfAOE" range="2.5" buff="buffEntity_SorceryUpdate, buffSpell_FireMeteor_Proc" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryFireMeteor_impact" target="self"/>
					</effect_group>
			</buff>			
			<buff name="buffSpell_FireMeteor_Proc" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffSpell_FireMeteor_Proc" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffSpell_FireMeteor_Proc" operation="multiply" value="75"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffSpell_FireMeteor_Proc_C2" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffSpell_FireMeteor_Proc_C2" operation="multiply" value="6"/>			
					</effect_group>
					<effect_group name="CRATER IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="@$buffSpell_FireMeteor_Proc"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffSpell_FireMeteor_Proc_C2" duration="0,4"/>
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>
			</buff>				
			
			<!-- RUNE: OTTO'S ENLIGHTENMENT -->
			<buff name="runeUnique_ottosenlightenment" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
							<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="@$sorceryRuneMastery_cost20"/>					
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fx_arcanelight.unity3d?fx_arcanelight"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fx_arcanelight"/>
						<passive_effect name="NoiseMultiplier" operation="perc_subtract" value="0.2" />
						<passive_effect name="LightMultiplier" operation="perc_subtract" value="0.2" />
						<passive_effect name="StaminaLoss" operation="perc_add" value="-.1" tags="primary,secondary">
							<requirement name="HoldingItemHasTags" tags="shovel,sorceryPickaxe"/>
						</passive_effect>
					</effect_group>
			</buff>
	
			<!-- RUNE: FISTS OF IVANOS -->
			<buff name="runeUnique_fistsofivanos" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
							<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="@$sorceryRuneMastery_cost40"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/lightningHand.unity3d?lightningHand" parent_transform="LeftHand"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/lightningHand.unity3d?lightningHand" parent_transform="RightHand"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="lightningHand" parent_transform="LeftHand"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="lightningHand" parent_transform="RightHand"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="lightningHand"/>
					</effect_group>
			</buff>
			<buff name="buffRuneUnique_fistsofivanos" hidden="true">
				<stack_type value="ignore"/>
				<duration value=".5"/>
					<effect_group name="Essence Drain: Sorcery Level +1">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="add" value="@$sorceryMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" operation="add" value="@$sorceryMastery"/>
					</effect_group>
			</buff>			
			<buff name="debuffRuneUnique_fistsofivanos" hidden="true">
				<damage_type value="heat"/> 
				<stack_type value="replace"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos_C2" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos_C2" operation="multiply" value="4"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos_C2" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$debuffRuneUnique_fistsofivanos_C2" operation="multiply" value="4"/>						
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$debuffRuneUnique_fistsofivanos" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$debuffRuneUnique_fistsofivanos_C2" duration="1,3"/>
							<passive_effect name="HealthMax" operation="perc_subtract" value="0.10"/>
							<passive_effect name="HealthGain" operation="perc_subtract" value="0.10"/>
							<passive_effect name="HealthLoss" operation="perc_add" value="0.10"/>						
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="debuffAmmo_LightningStrike">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="debuffAmmo_LightningStrike">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>						
					</effect_group>
			</buff>	
	
	
			<!-- RUNE: AVIOSE'S EGRESS --> 
			<buff name="runeUnique_avioseegress" name_key="Aviose's Egress Cooldown" description_key="Aviose's Egress is currently Recharging." icon="ui_game_symbol_clock" icon_color="50,150,255" icon_blink="true" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="3"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFinish"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryIce_freeze"  play_in_head="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceLasting.unity3d?iceLasting" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFinish.unity3d?iceFinish" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceLasting"/>					
						<passive_effect name="JumpStrength" operation="perc_add" value="1"/>
						<triggered_effect trigger="onSelfJump" action="PlaySound" sound="sorceryIce_launch" play_in_head="true"/>
						<triggered_effect trigger="onSelfJump" action="AddBuff" target="other" buff="buffEntity_SorceryUpdate,debuffRuneUnique_avioseegress"/>
					</effect_group>
			</buff>
			<buff name="debuffRuneUnique_avioseegress" hidden="true">
				<damage_type value="cold"/> 
				<stack_type value="ignore"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellLasting_Ice"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_avioseegress" operation="set" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_avioseegress" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_avioseegress_C2" operation="set" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_avioseegress_C2" operation="multiply" value=".45"/>
						<triggered_effect trigger="onSelfBuffFinish" action="RemoveBuff" buff="buffSpellLasting_Ice" />
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$debuffRuneUnique_avioseegress" duration="0.1,1.1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="@$debuffRuneUnique_avioseegress_C2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="@$debuffRuneUnique_avioseegress_C2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="@$debuffRuneUnique_avioseegress_C2"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="@$debuffRuneUnique_avioseegress_C2"/>
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="@$debuffRuneUnique_avioseegress_C2"/>
					</effect_group>
			</buff>	
	
			<!-- RUNE: KCOOLZ HASTE --> 
			<buff name="runeUnique_kcoolzhaste" name_key="Kcoolz Haste Cooldown" description_key="Kcoolz Haste is currently Recharging." icon="ui_game_symbol_clock" icon_color="140,0,255" icon_blink="false" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="300"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffRuneUnique_kcoolzhaste"/>
					</effect_group>
			</buff>
			<buff name="buffRuneUnique_kcoolzhaste" hidden="true">
				<stack_type value="ignore"/>
				<duration value="30"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_crackling" play_in_head="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kcoolzhaste" operation="set" value="@$sorceryMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kcoolzhaste" operation="multiply" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kcoolzhaste_C2" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kcoolzhaste_C2" operation="multiply" value=".25"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" operation="add" value="@$runeUnique_kcoolzhaste"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="sorceryLightning_crackling" play_in_head="true"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$runeUnique_kcoolzhaste_C2"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$runeUnique_kcoolzhaste_C2"/>
						<passive_effect name="CrouchSpeed" operation="perc_add" value="@$runeUnique_kcoolzhaste_C2"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value="@$runeUnique_kcoolzhaste_C2"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value="@$runeUnique_kcoolzhaste_C2"/>
						<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".25"/>
					</effect_group>
			</buff>	
	
			<!-- RUNE: NEKO'S RAGE -->
			<buff name="runeUnique_nekosrage" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group>
							<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="@$sorceryRuneMastery_cost30"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_nekosrage" operation="set" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_nekosrage" operation="multiply" value=".04"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_nekosrage_C2" operation="set" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_nekosrage_C2" operation="multiply" value="5"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_nekosrage_C3" operation="set" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_nekosrage_C3" operation="multiply" value="1"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="buffEntity_SorceryUpdate, buffSpellImpactTrigger_Fire, debuffRuneUnique_nekosrage">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$runeUnique_nekosrage_C2"/>
						</triggered_effect>
						<triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" target="self" buff="buffInjuryBleeding">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$runeUnique_nekosrage_C3"/>
						</triggered_effect>						
						<passive_effect name="BuffResistance" operation="base_add" value="@$runeUnique_nekosrage" tags="buffInjuryBleeding"/>
					</effect_group>
			</buff>	
			<buff name="debuffRuneUnique_nekosrage" hidden="true">
				<damage_type value="heat"/>	
				<stack_type value="ignore"/>
				<update_rate value="1"/>
				<duration value="5"/>
					<effect_group name="Rage Explode">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_nekosrage" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$debuffRuneUnique_nekosrage" operation="multiply" value="30"/>					
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$debuffRuneUnique_nekosrage" duration="0.1,1.1"/>
					</effect_group>
			</buff>

			<!-- RUNE: KORMAI'S PICK -->
			<buff name="runeUnique_kormaispick" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
							<passive_effect name="StaminaChangeOT" operation="perc_subtract" value="@$sorceryRuneMastery_cost40"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kormaispick" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kormaispick" operation="multiply" value=".1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kormaispick_C2" operation="set" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kormaispick_C2" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kormaispick_C3" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$runeUnique_kormaispick_C3" operation="multiply" value=".05"/>
						<passive_effect name="DamageModifier" operation="perc_add" value="@$runeUnique_kormaispick"/>
						<passive_effect name="DegradationMax" operation="perc_add" value="@$runeUnique_kormaispick_C2"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value="@$runeUnique_kormaispick_C3"/>
					</effect_group>
			</buff>







		<!--___________________________ ENVIRONMENT ___________________________-->	
			<buff name="buffEssenceIceRitual" hidden="true">
				<stack_type value="ignore"/>
				<duration value="1"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="buffEssenceIceRitual: updated"/>
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireEmpower.unity3d?fireEmpower" local_rotation="-90,0,-90" local_position="0,0,0" />
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireEmpower"/>
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="fireEmpower"/> -->
				</effect_group>
			</buff>			

			<buff name="buffFireRitual_trigger" hidden="true">
				<stack_type value="effect"/>
				<duration value="1"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="buffFireRitual_trigger: updated"/>
					<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFireRitual"/>
				</effect_group>
			</buff>			
			
			<buff name="buffFireRitual" hidden="true">
				<stack_type value="replace"/>
				<duration value="2"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="buffFireRitual: start"/>
					<triggered_effect trigger="onSelfBuffStack" action="LogMessage" message="buffFireRitual: stack"/>
					<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireRitual.unity3d?fireRitual" local_rotation="0,0,0" local_position="0,0,0" />
					<triggered_effect trigger="onSelfBuffStack" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireRitual.unity3d?fireRitual" local_rotation="0,0,0" local_position="0,0,0" />
					<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireRitual"/>
					<!-- <triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="fireRitual"/> -->
				</effect_group>
			</buff>	
			
			
		<!--___________________________ BLOCKS (DEV) ___________________________-->	
			<buff name="buffFireAltar_trigger" hidden="true">
				<stack_type value="effect"/>
				<duration value="1"/>
				<effect_group>
					<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="buffFireAltar_trigger: started"/>
					<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFireAltar"/>
					<triggered_effect trigger="onSelfBuffStart" action="AnimatorSetBool" property="IsCrafting" value="true"/>
				</effect_group>
			</buff>			
			
			<buff name="buffFireAltar" hidden="true">
			<stack_type value="replace"/>
			<duration value="2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AnimatorSetBool" property="IsCrafting" value="true"/>
				<triggered_effect trigger="onSelfBuffStart" action="LogMessage" message="buffFireRitual: start"/>
				<triggered_effect trigger="onSelfBuffStack" action="LogMessage" message="buffFireRitual: stack"/>

			</effect_group>
		</buff>		
		
		
		
		
		
		
<!--___________________________ SPELLS: Intro / Special ___________________________-->
			<buff name="buffSorceryIntro_spawn" hidden="false" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="15"/>
					<effect_group name="PLAYER: Intro Protect">
							<requirement name="EntityTagCompare" tags="player"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryHorn" /> <!-- drama -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="add" value="500"/> <!-- heal -->
						<triggered_effect trigger="onSelfBuffRemove" action="ShowToolbeltMessage" message="I should check these bodies for answers..." /> <!-- hint -->
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffIllInfection0,buffIllInfection1,buffInjuryBleeding,buffDrowning1,buffDrowning2,buffArmorShredding,buffLegSprained,buffLegBroken,buffArmSprained"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffArmBroken,buffInjuryStunned1,buffInjuryStunned2,buffInjuryCrippled1,buffInjuryKnockdown1,buffInjuryKnockdown1,buffInjuryUnconscious,buffStayDownKO"/>
						<passive_effect name="BuffResistance" operation="base_add" value="2" tags="buffInjuryConcussion,buffShocked,buffBurningElement,buffBurningEnvironment,buffBurningFlamingArrow,buffBurningMolotov,buffBurning"/>					
					</effect_group>
			</buff>

			<buff name="debuffSorceryIntro_spawn" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/> 
				<duration value="1"/>
					<effect_group name="BUFF PLAYER">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="300" buff="buffSorceryIntro_spawn" target_tags="enemy"/>
					</effect_group>
			</buff>

			<buff name="buffSpellImpactTrigger_Special_FireMeteor" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/> 
				<duration value="6"/>
					<effect_group>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireMeteorShower"/> -->
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="debuffSorceryIntro_spawn"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpellImpact_Special_FireMeteor"/>
					</effect_group>
			</buff>	

			<buff name="buffSpellImpact_Special_FireMeteor" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="effect"/>
				<duration value="1.5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireMeteorShower.unity3d?fireMeteorShower"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffSpell_Special_FireMeteor"/>
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="AddBuff" target="selfAOE" range="4" buff="buffSpell_Special_FireMeteor" target_tags="ally,party">
							<requirement name="IsLookingAtEntity" tags="player" />
						</triggered_effect> -->
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryFireMeteorShower_impact" target="self"/>
					</effect_group>
			</buff>

			<!-- SPELL SPECIAL: FIRE METEOR -->
			<buff name="buffSpell_Special_FireMeteor" hidden="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="8"/>
				<update_rate value="1"/>
					<effect_group name="Initial">
						<!-- <triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish" /> -->
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
					</effect_group>

					<effect_group name="IMPACT: Stagger">			
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1" duration="0,4"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1" duration="0,4"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1" duration="0,4"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="100"/>
					</effect_group>
					
					<effect_group name="CRATER IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="200"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="8"/>
					</effect_group>					
					
					<effect_group name="cleanup">
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" /> -->
					</effect_group>
			</buff>			
		
		
		
		
		<!--___________________________ ENTITY: SPAWN (DEV) ___________________________-->
			<!-- ENTITY: CVARS -->
			<!-- TIP: This buff applies cvars of the player's perk levels, along with power multipliers. -->
			<buff name="buffEntity_SorceryUpdate">
				<stack_type value="ignore"/>
				<duration value="1"/>
				<!-- <update_rate value="2"/> -->
					<effect_group name="ALCHEMY MASTERY: Level">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery" operation="set" value="1">
							<requirement name="ProgressionLevel" progression_name="perkSorceryAlchemyMastery" target="other" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="$sorceryAlchemyMastery" operation="LT" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery" operation="set" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorceryAlchemyMastery" target="other" operation="Equals" value="2"/>
							<requirement name="CVarCompare" cvar="$sorceryAlchemyMastery" operation="LT" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery" operation="set" value="3">
							<requirement name="ProgressionLevel" progression_name="perkSorceryAlchemyMastery" target="other" operation="Equals" value="3"/>
							<requirement name="CVarCompare" cvar="$sorceryAlchemyMastery" operation="LT" value="3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery" operation="set" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorceryAlchemyMastery" target="other" operation="Equals" value="4"/>
							<requirement name="CVarCompare" cvar="$sorceryAlchemyMastery" operation="LT" value="4"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery" operation="set" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryAlchemyMastery" target="other" operation="GTE" value="5"/>
							<requirement name="CVarCompare" cvar="$sorceryAlchemyMastery" operation="LT" value="5"/>
						</triggered_effect>
						<!-- +20% Per Level (Potion Potency) -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery_power" operation="set" value="@$sorceryAlchemyMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery_power" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryAlchemyMastery_power" operation="add" value="1"/>
					</effect_group>
				
					<effect_group name="FIRE MASTERY: Level">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery" operation="set" value="1">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="$sorceryFireMastery" operation="LT" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery" operation="set" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="Equals" value="2"/>
							<requirement name="CVarCompare" cvar="$sorceryFireMastery" operation="LT" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery" operation="set" value="3">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="Equals" value="3"/>
							<requirement name="CVarCompare" cvar="$sorceryFireMastery" operation="LT" value="3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery" operation="set" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="Equals" value="4"/>
							<requirement name="CVarCompare" cvar="$sorceryFireMastery" operation="LT" value="4"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery" operation="set" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryFireMastery" target="other" operation="GTE" value="5"/>
							<requirement name="CVarCompare" cvar="$sorceryFireMastery" operation="LT" value="5"/>
						</triggered_effect>
						<!-- +20% Per Level (Power) -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery_power" operation="set" value="@$sorceryFireMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery_power" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryFireMastery_power" operation="add" value="1"/>
					</effect_group>
				
					<effect_group name="ICE MASTERY: Level">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery" operation="set" value="1">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="$sorceryIceMastery" operation="LT" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery" operation="set" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="Equals" value="2"/>
							<requirement name="CVarCompare" cvar="$sorceryIceMastery" operation="LT" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery" operation="set" value="3">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="Equals" value="3"/>
							<requirement name="CVarCompare" cvar="$sorceryIceMastery" operation="LT" value="3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery" operation="set" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="Equals" value="4"/>
							<requirement name="CVarCompare" cvar="$sorceryIceMastery" operation="LT" value="4"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery" operation="set" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryIceMastery" target="other" operation="GTE" value="5"/>
							<requirement name="CVarCompare" cvar="$sorceryIceMastery" operation="LT" value="5"/>
						</triggered_effect>
						<!-- +20% Per Level (Power) -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery_power" operation="set" value="@$sorceryIceMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery_power" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryIceMastery_power" operation="add" value="1"/>
					</effect_group>

					<effect_group name="LIGHTNING MASTERY: Level">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery" operation="set" value="1">
							<requirement name="ProgressionLevel" progression_name="perkSorceryLightningMastery" target="other" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="$sorceryLightningMastery" operation="LT" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery" operation="set" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorceryLightningMastery" target="other" operation="Equals" value="2"/>
							<requirement name="CVarCompare" cvar="$sorceryLightningMastery" operation="LT" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery" operation="set" value="3">
							<requirement name="ProgressionLevel" progression_name="perkSorceryLightningMastery" target="other" operation="Equals" value="3"/>
							<requirement name="CVarCompare" cvar="$sorceryLightningMastery" operation="LT" value="3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery" operation="set" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorceryLightningMastery" target="other" operation="Equals" value="4"/>
							<requirement name="CVarCompare" cvar="$sorceryLightningMastery" operation="LT" value="4"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery" operation="set" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryLightningMastery" target="other" operation="GTE" value="5"/>
							<requirement name="CVarCompare" cvar="$sorceryLightningMastery" operation="LT" value="5"/>
						</triggered_effect>
						<!-- +20% Per Level (Power) -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery_power" operation="set" value="@$sorceryLightningMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery_power" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery_power" operation="add" value="1"/>
					</effect_group>

					<effect_group name="RUNE MASTERY: Level">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery" operation="set" value="1">
							<requirement name="ProgressionLevel" progression_name="perkSorceryRuneMastery" target="other" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="$sorceryRuneMastery" operation="LT" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery" operation="set" value="2">
							<requirement name="ProgressionLevel" progression_name="perkSorceryRuneMastery" target="other" operation="Equals" value="2"/>
							<requirement name="CVarCompare" cvar="$sorceryRuneMastery" operation="LT" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery" operation="set" value="3">
							<requirement name="ProgressionLevel" progression_name="perkSorceryRuneMastery" target="other" operation="Equals" value="3"/>
							<requirement name="CVarCompare" cvar="$sorceryRuneMastery" operation="LT" value="3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery" operation="set" value="4">
							<requirement name="ProgressionLevel" progression_name="perkSorceryRuneMastery" target="other" operation="Equals" value="4"/>
							<requirement name="CVarCompare" cvar="$sorceryRuneMastery" operation="LT" value="4"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery" operation="set" value="5">
							<requirement name="ProgressionLevel" progression_name="perkSorceryRuneMastery" target="other" operation="GTE" value="5"/>
							<requirement name="CVarCompare" cvar="$sorceryRuneMastery" operation="LT" value="5"/>
						</triggered_effect>
						<!-- +20% Per Level (Power) -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery_power" operation="set" value="@$sorceryRuneMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery_power" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryRuneMastery_power" operation="add" value="1"/>
					</effect_group>					
			</buff>
			
		
			<!-- ENTITY: SORCERY MANAGE -->
			<buff name="buffEntity_SorceryManage">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="30"/> <!-- DEV: 30 sec -->
					<effect_group name="INITIAL">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffEntity_EssenceInfused" />
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffEntity_EssenceInfused" />
					</effect_group>
			</buff>
			
		<!--___________________________ ENTITY: THE AWAKENED ___________________________-->
			<!-- ENTITY: ESSENCE INFUSED-->
			<buff name="buffEntity_EssenceInfused">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="10"/> <!-- DEV: 10 sec -->
				<effect_group name="FIRE TOUCHED">
						<requirement name="RandomRoll" seed_type="Random" min_max="0,1000" operation="LT" value="1" target="self"/>
						<requirement name="NotHasBuff" buff="buffEntityFire_infused"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryFireStacks, buffEntityFire_infused" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryFireStack" operation="add" value="1">
						<requirement name="CVarCompare" cvar="SorceryFireStack" operation="LT" value="4"/>
					</triggered_effect>
				</effect_group>
				<effect_group name="ICE TOUCHED">
						<requirement name="RandomRoll" seed_type="Random" min_max="0,1000" operation="GT" value="1" target="self"/>
						<requirement name="RandomRoll" seed_type="Random" min_max="0,1000" operation="LT" value="2" target="self"/>
						<requirement name="NotHasBuff" buff="buffEntityIce_infused"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryIceStacks, buffEntityIce_infused" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryIceStack" operation="add" value="1">
						<requirement name="CVarCompare" cvar="SorceryIceStack" operation="LT" value="4"/>
					</triggered_effect>
				</effect_group>
				<effect_group name="LIGHTNING TOUCHED">
						<requirement name="RandomRoll" seed_type="Random" min_max="0,1000" operation="GT" value="999" target="self"/>
						<requirement name="NotHasBuff" buff="buffEntityLightning_infused"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryLightningStacks, buffEntityLightning_infused" />
					<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="SorceryLightningStack" operation="add" value="1">
						<requirement name="CVarCompare" cvar="SorceryLightningStack" operation="LT" value="4"/>
					</triggered_effect>
				</effect_group>
			</buff>
			
			<!-- ENTITY: Fire Infused -->
			<buff name="buffEntityFire_infused" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="walker"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/handFire.unity3d?handFire" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/handFire.unity3d?handFire" local_offset="-.14,-0.05,0"/>	
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="RightHand" prefab="handFire"/>						
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="LeftHand" prefab="handFire"/>							
						<triggered_effect trigger="onSelfAttackedOther" target="other" action="AddBuff" buff="buffAwakenedFireImpactTrigger_fire, buffEntityFireSpell_fire, buffEntityFire_player" target_tags="player"/>
						<passive_effect name="BuffProcChance" operation="base_set" value="-5" tags="buffInjuryBleeding,buffInjuryStunned1,buffBurningElement"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="1"/>
						<passive_effect name="BlockDamage" operation="perc_add" value=".5"/>
					</effect_group>
			</buff>
			<!-- ENTITY PLAYER: Fire Touched -->
			<buff name="buffEntityFire_player" name_key="buffEntityFire_playerName" description_key="buffEntityFire_playerDesc" icon="ui_game_symbol_block_upgrade" icon_color="170,0,0" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="1200"/>
				<update_rate value="1"/>
					<effect_group>
							<!-- <requirement name="EntityTagCompare" tags="player"/> -->
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="debuffRune_fireskin"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="buffEntityFire_infused">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>
						<passive_effect name="HealthChangeOT" operation="base_add" value=".5"/>
						<passive_effect name="BlockDamage" operation="perc_add" value=".33"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value=".33"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value=".33"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="1" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest"/>
						<passive_effect name="WalkSpeed" operation="base_add" value=".5"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".1"/>
						<passive_effect name="LootGamestage" operation="base_add" value="100"/>
					</effect_group>
			</buff>
			<!-- ENTITY: Fire Spell -->
			<buff name="buffEntityFireSpell_fire" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="8"/>
				<update_rate value="1"/>
					<effect_group name="initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStack" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />					
					</effect_group>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					<effect_group name="BURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="1.1"/>
					</effect_group>
					<effect_group name="EXPLODE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenFireTrigger_explode"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffFallenFireTrigger_explode"/>
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>					
			</buff>			
			
			<!-- ENTITY: Ice Infused -->
			<buff name="buffEntityIce_infused" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="walker"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/handIce.unity3d?handIce" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/handIce.unity3d?handIce" local_offset="-.14,-0.05,0"/>	
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="RightHand" prefab="handIce"/>						
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="LeftHand" prefab="handIce"/>							
						<triggered_effect trigger="onSelfAttackedOther" target="other" action="AddBuff" buff="buffAwakenedIceImpactTrigger_ice, buffEntityIceSpell_ice, buffEntityIce_player" target_tags="player"/>
						<passive_effect name="BuffProcChance" operation="base_set" value="-5" tags="buffInjuryBleeding,buffInjuryStunned1,buffBurningElement"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="1"/>
						<!-- <passive_effect name="EntityDamage" operation="perc_add" value=".25"/> -->
						<passive_effect name="BlockDamage" operation="perc_add" value=".5"/>
					</effect_group>
			</buff>
			<!-- ENTITY PLAYER: Ice Touched -->
			<buff name="buffEntityIce_player" name_key="buffEntityIce_playerName" description_key="buffEntityIce_playerDesc" icon="ui_game_symbol_block_upgrade" icon_color="0,150,255" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="1200"/>
				<update_rate value="1"/>
					<effect_group>
							<!-- <requirement name="EntityTagCompare" tags="player"/> -->
						<!-- <triggered_effect trigger="onSelfAttackedOther" target="other" action="AddBuff" buff="buffAwakenedIceImpactTrigger_ice, buffEntityIceSpell_ice"/> -->
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="debuffRune_iceskin"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="buffEntityIce_infused">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>
						<passive_effect name="HealthChangeOT" operation="base_add" value=".5"/>
						<passive_effect name="BlockDamage" operation="perc_add" value=".33"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value=".33"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value=".33"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="1" tags="essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest"/>
						<passive_effect name="WalkSpeed" operation="base_add" value=".5"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".1"/>
						<passive_effect name="LootGamestage" operation="base_add" value="100"/>
					</effect_group>
			</buff>
			<!-- ENTITY: Ice Spell -->
			<buff name="buffEntityIceSpell_ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
					</effect_group>
					<effect_group name="CHILL">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="2.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,0" duration="0,2" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,0" duration="0,2" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".9,0" duration="0,2" />
						<passive_effect name="RoundsPerMinute" operation="perc_subtract" value=".9,0" duration="0,2" />
					</effect_group>
					<effect_group name="FREEZE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="100"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenImpactTrigger_frozen"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffFallenImpactTrigger_frozen"/>
					</effect_group>
			</buff>
			
			<!-- ENTITY: Lightning Infused -->
			<buff name="buffEntityLightning_infused" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="walker"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/handLightning.unity3d?handLightning" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/handLightning.unity3d?handLightning" local_offset="-.14,-0.05,0"/>	
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="RightHand" prefab="handLightning"/>						
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="LeftHand" prefab="handLightning"/>							
						<triggered_effect trigger="onSelfAttackedOther" target="other" action="AddBuff" buff="buffAwakenedLightningImpactTrigger_lightning, buffEntityLightningSpell_lightning, buffEntityLightning_player" target_tags="player"/>
						<passive_effect name="BuffProcChance" operation="base_set" value="-5" tags="buffInjuryBleeding,buffInjuryStunned1,buffBurningElement"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="1"/>
						<passive_effect name="BlockDamage" operation="perc_add" value=".5"/>
					</effect_group>
			</buff>
			<!-- ENTITY PLAYER: Lightning Touched -->
			<buff name="buffEntityLightning_player" name_key="buffEntityLightning_playerName" description_key="buffEntityLightning_playerDesc" icon="ui_game_symbol_block_upgrade" icon_color="100,0,160" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="1200"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="buffFallenLightningTrigger_electrocute"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" target="other" buff="buffEntityLightning_infused">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>						
						<passive_effect name="HealthChangeOT" operation="base_add" value=".5"/>
						<passive_effect name="BlockDamage" operation="perc_add" value=".33"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value=".33"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value=".33"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="1" tags="essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
						<passive_effect name="WalkSpeed" operation="base_add" value=".5"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".1"/>
						<passive_effect name="LootGamestage" operation="base_add" value="100"/>
					</effect_group>
			</buff>
			<!-- ENTITY: Lightning Spell -->
			<buff name="buffEntityLightningSpell_lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
					</effect_group>
					<effect_group name="SHOCK">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="3.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,0" duration="0,1"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,0" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,0" duration="0,1" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,0" duration="0,1" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,0" duration="0,1" />
						<passive_effect name="RoundsPerMinute" operation="perc_subtract" value=".8,0" duration="0,1" />
					</effect_group>
					<effect_group name="ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenLightningTrigger_electrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffFallenLightningTrigger_electrocute"/>
					</effect_group>
			</buff>		
			
			
			<!-- COMBAT DETECT: Lightning --> 
			<buff name="buffAwakenedLightningCombatDetect_player" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="2"/>
				<!-- <update_rate value=".3"/> -->
					<effect_group>
							<requirement name="EntityTagCompare" tags="player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAwakenedLightningCombat_player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAwakenedLightningCombatLeft_player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAwakenedLightningCombatLeftUpdate_player"/>
						<triggered_effect trigger="onSelfBuffFinish" action="AddBuff" buff="buffAwakenedLightningCombatFinish_player"/>
					</effect_group>
			</buff>
			<!-- ENGAGED: Player -->
			<buff name="buffAwakenedLightningCombat_player" hidden="true" remove_on_death="true">
				<!-- <damage_type value="heat"/> -->
				<stack_type value="replace"/>
				<duration value="1"/>
				<!-- <update_rate value=".5"/> -->
					<effect_group>
							<requirement name="EntityTagCompare" tags="player"/>
							<requirement name="HasBuff" buff="buffAwakenedLightningCombatDetect_player"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_enemy" target_tags="sorceryAwakened"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_enemy" target_tags="sorceryAwakened"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_enemy" target_tags="sorceryAwakened"/>
						
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAwakenedLightningCombatLeft_player, buffAwakenedLightningCombatLeftUpdate_player"/>
						<triggered_effect trigger="onSelfBuffStack" action="RemoveBuff" buff="buffAwakenedLightningCombatLeft_player, buffAwakenedLightningCombatLeftUpdate_player"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffAwakenedLightningCombatLeft_player"/>
					</effect_group>
			</buff>
			<buff name="buffAwakenedLightningCombatLeft_player" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
				<!-- <update_rate value="1"/> -->
					<effect_group>
							<requirement name="EntityTagCompare" tags="player"/>
							<requirement name="HasBuff" buff="buffAwakenedLightningCombatDetect_player"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAwakenedLightningCombatLeftUpdate_player"/>							
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffAwakenedLightningCombatLeftUpdate_player"/>							
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightningCombatLeftUpdate_player"/>
					</effect_group>
			</buff>
			<buff name="buffAwakenedLightningCombatLeftUpdate_player" name_key="buffSorceryCombatRingName" description_key="buffSorceryCombatRingDesc" tooltip_key="buffSorceryCombatRingTooltip" hidden="false" remove_on_death="true" icon="ui_game_symbol_x" icon_color="255,0,0" icon_blink="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="5000"/>
				<update_rate value="1"/> 
					<effect_group name="FX">
							<requirement name="EntityTagCompare" tags="player"/>
							<requirement name="HasBuff" buff="buffAwakenedLightningCombatDetect_player"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="0.2" effect_name="Drunk"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ShowToolbeltMessage" message="Return to The Combat Ring"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5,10,100" duration="0,8,999"/>					
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.1,0.9,1" duration="0,8,999"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.1,0.9,1" duration="0,8,999"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.1,0.9,1" duration="0,8,999"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="0.1,0.9,1" duration="0,8,999"/>
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffAwakenedLightningCombatLeftUpdate_player">
							<requirement name="NotHasBuff" buff="buffAwakenedLightningCombatDetect_player"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" effect_name="Drunk"/>
					</effect_group>
			</buff>			
			<buff name="buffAwakenedLightningCombatFinish_player" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/> 
					<effect_group>
							<requirement name="EntityTagCompare" tags="player"/>
							<requirement name="NotHasBuff" buff="buffAwakenedLightningCombatDetect_player"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_portalout" />
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAwakenedLightningCombat_player"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAwakenedLightningCombatLeft_player"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAwakenedLightningCombatLeftUpdate_player"/>						
					</effect_group>
			</buff>

			<!-- ENGAGED: Enemy --> 
			<buff name="buffAwakenedLightningCombat_enemy" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="1.5"/>
				<update_rate value=".5"/>
					<effect_group>
							<!-- <requirement name="EntityTagCompare" tags="sorceryAwakened"/> -->
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="300" buff="buffAwakenedLightningCombatDetect_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="300" buff="buffAwakenedLightningCombatDetect_player" target_tags="player"/>
					</effect_group>
			</buff>

			<!-- COMBAT RING: Lightning --> 
			<buff name="buffAwakenedLightningCombatRing" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/awakenedLightningCombatRing.unity3d?awakenedLightningCombatRing"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="awakenedLightningCombatRing" />
					</effect_group>
			</buff>			

		<!-- AWAKENED ABILITIES: Lightning -->
			<!-- ENTITY SPELL: Lightning Aura -->
			<buff name="buffAwakenedLightning_aura" hidden="true" remove_on_death="true">
				<!-- <damage_type value="heat"/> -->
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/> 
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningAura.unity3d?lightningAura"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryAwakened_lightningaura" />
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningAura-finish" />
<!-- 						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" target="self" parent_transform="Hips" particle="#@modfolder:Resources/awakenedLightningOrbsTest.unity3d?awakenedLightningOrbsTest"/> -->
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningAura" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningAura-finish.unity3d?lightningAura-finish"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryAwakened_lightningaura" />
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="3" buff="debuffAwakenedLightning_aura" target_tags="enemy,animal"/>
					</effect_group>
			</buff>			
			<buff name="debuffAwakenedLightning_aura" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
			</buff>			
			
			<!-- AWAKENED: Lightning Aura -->
			<buff name="buffAwakenedLightning_aura2" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="HasBuff" buff="buffAwakenedLightning_aura"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryAwakenedLightning_rumble" />
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="true" transform_path="lightningAura/lightningBolts"/>
						<triggered_effect trigger="onSelfBuffStart" action="SetTransformActive" active="false" transform_path="lightningAura/lightningBolts-finish"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="4" buff="debuffAwakenedLightning_aura2" target_tags="enemy,animal"/>
						<passive_effect name="MagazineSize" operation="base_add" value="20"/>
						<passive_effect name="BurstRoundCount" operation="base_add" value="3"/>
						<passive_effect name="SpreadDegreesVertical" operation="base_add" value="10"/>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="360"/>
					</effect_group>
					<effect_group name="cleanup">
							<requirement name="HasBuff" buff="buffAwakenedLightning_aura"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="sorceryAwakenedLightning_rumble" />
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="false" transform_path="lightningAura/lightningBolts"/>
						<triggered_effect trigger="onSelfBuffRemove" action="SetTransformActive" active="true" transform_path="lightningAura/lightningBolts-finish"/>
					</effect_group>
			</buff>			
			<buff name="debuffAwakenedLightning_aura2" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
			</buff>					
			
			
			
			<!-- AWAKENED: Lightning -->
			<buff name="buffAwakenedLightning" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="Awaken">
						<!-- CVar: _difficulty -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedPower" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAttacks_given" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAttacks_received" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedRun" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedRun_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedCounter" operation="set" value="0"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery" operation="set" value="1">
							<requirement name="ProgressionLevel" progression_name="perkSorceryLightningMastery" target="other" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="$sorceryLightningMastery" operation="LT" value="1"/>
						</triggered_effect> -->
						<!-- +20% Per Level (Power) -->
						<!-- <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery_power" operation="set" value="@$sorceryLightningMastery"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery_power" operation="multiply" value=".2"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$sorceryLightningMastery_power" operation="add" value="1"/> -->
					</effect_group>
					
					<effect_group name="COUNTER">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedCounter" operation="add" value="1"/>
					</effect_group>
					
					<effect_group name="COOLDOWN">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility4_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedRun_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedRun_cd" operation="GT" value="0"/>
						</triggered_effect>								
					</effect_group>
					
					<effect_group name="COMBAT">
						<triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar="awakenedAttacks_given" operation="add" value="1"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="ModifyCVar" cvar="awakenedAttacks_received" operation="add" value="1"/>					
					</effect_group>					
					
					<effect_group name="COMBAT TETHER: PLAYER RANGE OUT">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="NotHasBuff" buff="buffAwakenedLightningCombat_enemy"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_regenerate"/>
					</effect_group>
					
					<effect_group name="COMBAT TETHER: AURA">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffAwakenedLightningCombatRing"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffAwakenedLightningCombatRing"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="300" buff="buffAwakenedLightningCombatDetect_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="300" buff="buffAwakenedLightningCombatDetect_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightningCombat_player" target_tags="player"/>
					</effect_group>					
					
					<effect_group name="HEALTH">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.99"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="9">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.99"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.9"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="8">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.9"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.8"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="7">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.8"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.7"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="6">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.7"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.6"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="5">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.6"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="4">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.5"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.4"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="3">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.4"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="2">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.3"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="1">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.2"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="POWER">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".01">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="9"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".02">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="8"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".03">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="7"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".04">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="6"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".05">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".06">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="4"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".07">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="3"/>
						</triggered_effect>	
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value=".08">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower_multiplier" operation="add" value="1">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="Equals" value="1"/>
						</triggered_effect>	

						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedPower" operation="add" value="@awakenedPower_multiplier"/>
					</effect_group>				
					
					<effect_group name="IMMUNITY">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
					</effect_group>
					
					<!-- SCALE -->
					<effect_group name="DAMAGE SCALE">
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="set" value="@sorceryPlayerTier"/>
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="multiply" value=".2"/>				
					</effect_group>

					<effect_group name="AURA: Empower">
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffSorceryImmunity_FallenAwakened,buffEntityLightning_infused" target_tags="ally,party"/>
					</effect_group>
					
					<effect_group name="WALK">
							<requirement name="CVarCompare" cvar="awakenedRun_cd" operation="Equals" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedRun_cd" operation="set" value="5"/>		
					</effect_group>					
					
					<effect_group name="RUN">
							<requirement name="CVarCompare" cvar="awakenedRun_cd" operation="Equals" value="0"/>
						<passive_effect name="WalkSpeed" operation="base_add" value="15"/>
						<passive_effect name="RunSpeed" operation="base_add" value=".2"/>
					</effect_group>					
					
					<effect_group name="PASSIVE ABILITY">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAwakenedLightning_aura"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_aura"/>
<!-- 						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_aura">
							<requirement name="NotHasBuff" buff="buffAwakenedLightning_aura"/>
						</triggered_effect> -->
<!-- 						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="25" buff="buffAwakenedLightning_empowerMundane" target_tags="ally,party"/> -->
						<!-- <passive_effect name="RunSpeed" operation="perc_add" value=".25">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="5"/>
						</passive_effect>	
						<passive_effect name="WalkSpeed" operation="perc_add" value=".25">
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="5"/>
						</passive_effect> -->
					</effect_group>
					
					<effect_group name="ABILITY1: Right Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="GTE" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value=".5"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="1"/>
						<passive_effect name="MagazineSize" operation="base_add" value="3"/>
						<passive_effect name="BurstRoundCount" operation="base_add" value="1"/>
						<passive_effect name="SpreadDegreesVertical" operation="base_add" value="3"/>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="60"/>
					</effect_group>
					<effect_group name="ABILITY2: Left Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="GTE" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value=".5"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="1"/>
						<passive_effect name="MagazineSize" operation="base_add" value="3"/>
						<passive_effect name="BurstRoundCount" operation="base_add" value="1"/>
						<passive_effect name="SpreadDegreesVertical" operation="base_add" value="3"/>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="60"/>						
					</effect_group>	
					<effect_group name="ABILITY3: Aura Bolts">
							<requirement name="CVarCompare" cvar="awakenedAbility3" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="GTE" value="1"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".5"/>
					</effect_group>
					
					<effect_group name="ABILITY3: Activate Aura Bolts">
<!-- 							<requirement name="HasBuff" buff="buffAwakenedLightning_aura"/> -->
							<requirement name="CVarCompare" cvar="awakenedAbility3" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="Equals" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="25"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_aura2" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="set" value="5"/>
					</effect_group>

					<effect_group name="ABILITY3: Deactivate Aura Bolts">
<!-- 							<requirement name="HasBuff" buff="buffAwakenedLightning_aura"/> -->
							<requirement name="CVarCompare" cvar="awakenedAbility3" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="Equals" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
<!-- 						<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" active="false" transform_path="lightningAura/lightningBolts-finish"/> -->
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffAwakenedLightning_aura2" />
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="set" value="15"/>
					</effect_group>					

					<effect_group name="ABILITY1: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="8"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" sound="sorceryAwakened_trumpet" /> -->
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="500"/> --> <!-- heal -->
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/awakenedHandLightning.unity3d?awakenedHandLightning" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="10"/>
					</effect_group>
					
					<effect_group name="ABILITY2: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="1"/>
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="4"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="500"/> --> <!-- heal -->
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/awakenedHandLightning.unity3d?awakenedHandLightning" local_offset="-.14,-0.05,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="10"/>
					</effect_group>		

					<effect_group name="ABILITY1: Deactivate">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="Equals" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemovePrefabFromEntity" target="self" parent_transform="LeftHand" prefab="awakenedHandLightning"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="30"/>
					</effect_group>

					<effect_group name="ABILITY2: Deactivate">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="Equals" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemovePrefabFromEntity" target="self" parent_transform="RightHand" prefab="awakenedHandLightning"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="1"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="30"/>
					</effect_group>
					
					<!-- SACRIFICE ABSORB -->
					<effect_group name="ABILITY4: Sacrifice Mundane">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility4_cd" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightning_sacrificeMundane" target_tags="ally,party">
							<!-- <requirement name="NotHasBuff" buff="buffAwakenedLightning_empowerMundane"/> -->
						</triggered_effect>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="60" buff="debuffAwakenedLightning_summonMundane" target_tags="enemy"/> -->
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="set" value="2"/>
					</effect_group>					
					
					<effect_group name="ABILITY5: Regenerate">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" sound="sorceryAwakened_trumpet" />
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_regenerate"/> -->
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="60" buff="buffAwakenedLightning_regenerateMundane" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="15"/>
					</effect_group>
					
					<effect_group name="ABILITY6: Teleport">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_teleport"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="10"/>
					</effect_group>					
					
					<effect_group name="ABILITY: Sacrifice Mundane">
							<!-- <requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LTE" value="0.25"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="100" buff="buffAwakenedLightning_sacrificeMundane" target_tags="ally,party"/> -->
					</effect_group>					
					
					<effect_group name="DEPARTURE">
						<!-- <requirements compare_type="or">
							<requirement name="HasBuff" buff="buffAwakenedLightning_empowerMundane"/>
							<requirement name="HasBuff" buff="buffAwakenedLightning_summonMundane"/>
						</requirements> -->	
							<!-- <requirement name="HasBuff" buff="buffAwakenedLightning_summonMundane"/> -->
						<!-- <triggered_effect trigger="onSelfDied" action="AddBuff" target="otherAOE" range="100" buff="buffAwakenedLightning_departure" target_tags="enemy"/> -->
					</effect_group>
			</buff>			
			
			<!-- AWAKENED: Lightning Projectile Impact -->
			<buff name="buffAwakenedLightningImpactTrigger_lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_impact" />
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffAwakenedLightningImpact_lightning"/>
					</effect_group>
			</buff>
			<buff name="buffAwakenedLightningImpact_lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningImpact.unity3d?lightningImpact" parent_transform="Hips"/>
					</effect_group>
			</buff>
			
			<!-- AWAKENED: Lightning Spell -->
			<buff name="buffAwakenedLightningSpell_lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.5" duration="0,.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.5" duration="0,.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.5" duration="0,.5"/>						
					</effect_group>
					<!-- <effect_group name="LIGHTNING STRIKE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningStrike"/>
					</effect_group> -->
					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="10"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					<!-- <effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Lightning_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_LightningElectrocute"/>
					</effect_group> -->
			</buff>			
			
			
			<!-- AWAKENED: Lightning Empowered -->
			<buff name="buffAwakenedLightning_empowered" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffAwakenedLightning_regenerate"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffAwakenedLightning_regenerate"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/awakenedLightningPentagram.unity3d?awakenedLightningPentagram"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="awakenedLightningPentagram"/>
						<!-- <passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedLightning_summonMundane"/> -->
						<passive_effect name="HealthMax" operation="perc_add" value=".1" />
						<passive_effect name="EntityDamage" operation="perc_add" value=".2" />
						<passive_effect name="BlockDamage" operation="perc_add" value="1"/>
						<passive_effect name="RunSpeed" operation="perc_add" value=".2"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value=".2"/>
						<passive_effect name="JumpStrength" operation="perc_add" value=".1"/>
						<passive_effect name="MagazineSize" operation="base_add" value="10"/>
						<passive_effect name="BurstRoundCount" operation="base_add" value="1"/>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="100"/>						
					</effect_group>
			</buff>				
			
			<!-- AWAKENED: Lightning Teleport -->
			<buff name="buffAwakenedLightning_teleport" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="1"/>
				<!-- <update_rate value="1"/> -->
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_portalin"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="10"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="10"/>
					</effect_group>
			</buff>				
			
			<!-- AWAKENED: Lightning Regenerate -->
			<buff name="buffAwakenedLightning_regenerate" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="6"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryAwakened_trumpet" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/awakenedRechargeLightning.unity3d?awakenedRechargeLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="awakenedRechargeLightning"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="200"/>
						<triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" buff="buffAwakenedLightning_regenerate">
							<!-- <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/> -->
						</triggered_effect>
					</effect_group>
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened"/>
							<requirement name="NotHasBuff" buff="buffAwakenedLightning_empowered"/>					
						<!-- <passive_effect name="RunSpeed" operation="base_set" value="-100"/>
						<passive_effect name="WalkSpeed" operation="base_set" value="-100"/>
						<passive_effect name="CrouchSpeed" operation="base_set" value="-100"/>
						<passive_effect name="JumpStrength" operation="base_set" value="-100"/> -->
					</effect_group>
			</buff>			
			<!-- AWAKENED: Lightning Regenerate Mundane -->
			<buff name="buffAwakenedLightning_regenerateMundane" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="6"/>
				<update_rate value="1"/>
					<effect_group>
						<!-- <requirements compare_type="or">
							<requirement name="EntityTagCompare" tags="sorceryAwakened"/>
							<requirement name="HasBuff" buff="buffAwakenedLightning_empowerMundane"/>			
						</requirements> -->
							<requirement name="HasBuff" buff="buffAwakenedLightning_empowerMundane"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeLightning.unity3d?fallenRechargeLightning"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fallenRechargeLightning-finish" />
						<passive_effect name="HealthChangeOT" operation="base_add" value="50"/>
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
						<passive_effect name="RunSpeed" operation="perc_set" value="0" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0"  />
						<passive_effect name="WalkSpeed" operation="base_set" value="0" />
						<passive_effect name="RunSpeed" operation="base_set" value="0" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" />
						<triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" buff="buffAwakenedLightning_regenerateMundane">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
						</triggered_effect>						
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fallenRechargeLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeLightning-finish.unity3d?fallenRechargeLightning-finish"/>					
					</effect_group>
			</buff>
			
			<!-- AWAKENED: Lightning Sacrifice Mundane -->
			<buff name="buffAwakenedLightning_sacrificeMundane" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened" invert="true"/>
							<requirement name="EntityTagCompare" tags="sorceryFallen" invert="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_strike" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" range="100" buff="buffAwakenedLightning_empowered" target_tags="ally,party"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAwakenedLightning_regenerateMundane,buffFallenLightningSpell_regenerate"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStrike"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="0,0,7777" duration="0,1,3"/>
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedLightning_regenerateMundane,buffFallenLightningSpell_regenerate"/>
					</effect_group>
			</buff>			
			
			<!-- AWAKENED: Lightning Departure -->
			<buff name="buffAwakenedLightning_departure" hidden="true" remove_on_death="false">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="8"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="HasBuff" buff="buffAwakenedLightning_empowerMundane"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryLightning_strike" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStrike"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="0,0,7777" duration="0,1,3"/>
					</effect_group>
			</buff>			
			
			<!-- AWAKENED: Lightning Count Mundane -->
			<buff name="buffAwakenedLightning_counterMundane" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="0"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedCounterMundane" operation="add" value="1"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="awakenedCounterMundane" operation="add" value="1"/>
					</effect_group>
					<effect_group name="cleanup">
							<!-- <requirement name="HasBuff" buff="buffAwakenedLightning_empowerMundane"/> -->
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="awakenedCounterMundane" operation="set" value="0"/>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffAwakenedLightning_counterMundane"/>
					</effect_group>					
			</buff>				
			
			<!-- AWAKENED: Lightning Summon Mundane -->
			<buff name="buffAwakenedLightning_summonMundane" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="sorceryAwakened" invert="true"/>
							<requirement name="NotHasBuff" buff="buffAwakenedLightning_empowerMundane"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/awakenedLightningPentagram.unity3d?awakenedLightningPentagram"/>
						<passive_effect name="EntityDamage" operation="perc_subtract" value=".9" />
						<passive_effect name="WalkSpeed" operation="perc_add" value="10"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="10"/>
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedLightningImpactTrigger_lightning,buffAwakenedLightningSpell_lightning"/>						
					</effect_group>
					<effect_group>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="awakenedLightningPentagram"/>					
					</effect_group>
			</buff>			
			<buff name="debuffAwakenedLightning_summonMundane" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/>
					<effect_group>
							<requirement name="EntityTagCompare" tags="zombie,animal" invert="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryAwakened_playerAggro"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryAwakened_playerAggro"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryAwakened_playerAggro"/>
						<passive_effect name="NoiseMultiplier" operation="perc_set" value="10" />
					</effect_group>					
			</buff>			
			
			<!-- AWAKENED: Lightning Empower Mundane -->
			<buff name="buffAwakenedLightning_empowerMundane" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffAwakenedLightning_summonMundane">
							<requirement name="HasBuff" buff="buffAwakenedLightning_summonMundane"/>
						</triggered_effect>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/awakenedHand0Lightning.unity3d?awakenedHand0Lightning" local_offset="-.14,-0.05,0"/>						
						<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/awakenedHand0Lightning.unity3d?awakenedHand0Lightning" local_offset=".14,0.035,0"/> -->
					</effect_group>
					<effect_group name="PASSIVE ABILITY">
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffAwakenedLightning_empowerMundane" target_tags="ally,party"/> -->
						<passive_effect name="BuffResistance" operation="base_add" value="100" tags="buffAwakenedLightning_summonMundane,buffAwakenedLightningImpactTrigger_lightning,buffAwakenedLightningSpell_lightning"/>
						<passive_effect name="HealthMax" operation="perc_add" value="3" />
						<passive_effect name="EntityDamage" operation="perc_add" value="1" />
						<passive_effect name="BlockDamage" operation="perc_add" value="1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".3"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".5"/>
						<!-- <passive_effect name="WalkSpeed" operation="base_add" value="10"/> -->
					</effect_group>
					<effect_group name="SACRIFICE">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.25"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffAwakenedLightning_sacrificeMundane"/>
					</effect_group>					
					<!-- <effect_group name="COUNTER">
							<requirement name="NotHasBuff" buff="buffAwakenedLightning_counterMundane" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="other" buff="buffAwakenedLightning_counterMundane"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffAwakenedLightning_counterMundane"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="other" buff="buffAwakenedLightning_counterMundane"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffAwakenedLightning_counterMundane"/>
					</effect_group> -->
					<effect_group name="cleanup">
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="LeftHand" prefab="awakenedHand0Lightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" target="self" parent_transform="RightHand" prefab="awakenedHand0Lightning"/> -->
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffAwakenedLightning_summonMundane">
							<requirement name="HasBuff" buff="buffAwakenedLightning_summonMundane"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffAwakenedLightning_summonMundane">
							<requirement name="HasBuff" buff="buffAwakenedLightning_summonMundane"/>
						</triggered_effect>						
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" target="other" cvar="awakenedCounterMundane" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedCounterMundane" operation="GTE" value="1"/>
						</triggered_effect> -->
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" target="self" buff="buffAwakenedLightning_counterMundane"/> -->
					</effect_group>
			</buff>			
	
	
			<!-- AWAKENED: Fire -->	
			<!-- AWAKENED: Fire Projectile Impact -->
			<buff name="buffAwakenedFireImpactTrigger_fire" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryFireball_impact" />
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffAwakenedFireImpact_fire"/>
					</effect_group>
			</buff>
			<buff name="buffAwakenedFireImpact_fire" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireImpact.unity3d?fireImpact" parent_transform="Hips"/>
					</effect_group>
			</buff>	
	
	
			<!-- AWAKENED: Ice -->
			<!-- AWAKENED: Ice Projectile Impact -->
			<buff name="buffAwakenedIceImpactTrigger_ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_impact" />
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffAwakenedIceImpact_ice"/>
					</effect_group>
			</buff>
			<buff name="buffAwakenedIceImpact_ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>			
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceImpact.unity3d?iceImpact" parent_transform="Hips"/>
					</effect_group>
			</buff>
			
			<!-- DEV: NOT USED ATM -->
			<!-- AWAKENED: Ice Spell -->
			<buff name="buffAwakenedIceSpell_ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="10"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="10"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.5" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.5" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.5" duration="0,1"/>						
					</effect_group>
					<!-- <effect_group name="LIGHTNING STRIKE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_IceStrike"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_IceStrike"/>
					</effect_group> -->
					<effect_group name="RANK 1: SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="10"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					<!-- <effect_group name="RANK 2: ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@$Ice_ElectrocuteChance" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffSpell_IceElectrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="debuffSpell_IceElectrocute"/>
					</effect_group> -->
			</buff>		
	
	
	
	
	
	
		<!--___________________________ FALLEN ___________________________-->
		<!-- FALLEN: Lightning -->
			<buff name="buffFallenLightning" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="Fallen">
						<!-- CVar: _difficulty -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="0"/>
					</effect_group>
					
					<effect_group name="COOLDOWN">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility4_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedRun_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedRun_cd" operation="GT" value="0"/>
						</triggered_effect>								
					</effect_group>

					<effect_group name="HEALTH">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.99"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="9">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.99"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.9"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="8">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.9"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.8"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="7">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.8"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.7"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="6">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.7"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.6"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="5">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.6"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="4">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.5"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.4"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="3">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.4"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="2">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.3"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="1">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.2"/>
						</triggered_effect>
					</effect_group>

					<effect_group name="IMMUNITY">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
					</effect_group>

					<!-- SCALE -->
					<effect_group name="DAMAGE SCALE">
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="set" value="@sorceryPlayerTier"/>
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="multiply" value=".2"/>				
					</effect_group>

					<effect_group name="AURA: Empower">
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffSorceryImmunity_FallenAwakened,buffEntityLightning_infused" target_tags="ally,party"/>
					</effect_group>

					<effect_group name="ABILITY1: Right Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="2"/>
						</passive_effect>
						<!-- <passive_effect name="BurstRoundCount" operation="base_add" value="1"/> -->
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="1"/>
					</effect_group>
					<effect_group name="ABILITY2: Left Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="4"/>
						</passive_effect>
						<passive_effect name="BurstRoundCount" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="8"/>
						</passive_effect>
						<!-- <passive_effect name="SpreadDegreesVertical" operation="base_add" value="1"/> -->
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="7"/>
					</effect_group>			

					<effect_group name="ABILITY1: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="0"/>
							<!-- <requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="Equals" value="0"/> -->
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="9"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/awakenedHandLightning.unity3d?awakenedHandLightning" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="1"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="100"/> -->
					</effect_group>
					
					<effect_group name="ABILITY2: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="0"/>
							<!-- <requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="Equals" value="0"/> -->
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="7"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/awakenedHandLightning.unity3d?awakenedHandLightning" local_offset="-.14,-0.05,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="1"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="100"/> -->
					</effect_group>
					
					<effect_group name="ABILITY4: Summon Mundane DEV BUG">
							<!-- <requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility4_cd" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="100" buff="buffAwakenedLightning_summonMundane" target_tags="ally,party">
							<requirement name="NotHasBuff" buff="buffAwakenedLightning_empowerMundane"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="60" buff="debuffAwakenedLightning_summonMundane" target_tags="enemy"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="set" value="2"/> -->
					</effect_group>					
					
					<effect_group name="ABILITY5: Regenerate">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffFallenLightningSpell_regenerate"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffFallenLightningSpell_regenerate" target_tags="ally,party"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="20"/> -->
						<!-- SCALE -->
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="120">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="LTE" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="60">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="Equals" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="30">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="3"/>
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="LT" value="5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="15">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="5"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="ABILITY6">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="Equals" value="0"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffAwakenedLightning_teleport"/> -->
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="10"/>
					</effect_group>					
					
					<effect_group name="ABILITY: Sacrifice Mundane">
							<!-- <requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="3"/> -->
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="100" buff="buffAwakenedLightning_sacrificeMundane" target_tags="ally,party"/> -->
					</effect_group>
			</buff>
	
		<!-- FALLEN: Ice -->
			<buff name="buffFallenIce" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="Fallen">
						<!-- CVar: _difficulty -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="0"/>
					</effect_group>
					
					<effect_group name="COOLDOWN">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility4_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedRun_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedRun_cd" operation="GT" value="0"/>
						</triggered_effect>								
					</effect_group>

					<effect_group name="HEALTH">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.99"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="9">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.99"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.9"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="8">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.9"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.8"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="7">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.8"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.7"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="6">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.7"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.6"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="5">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.6"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="4">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.5"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.4"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="3">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.4"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="2">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.3"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="1">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.2"/>
						</triggered_effect>
					</effect_group>

					<effect_group name="IMMUNITY">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
					</effect_group>

					<!-- SCALE -->
					<effect_group name="DAMAGE SCALE">
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="set" value="@sorceryPlayerTier"/>
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="multiply" value=".2"/>				
					</effect_group>

					<effect_group name="AURA: Empower">
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffSorceryImmunity_FallenAwakened,buffEntityIce_infused" target_tags="ally,party"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffEntityIce_infused, buffFallenIceSpell_auraEmpower" target_tags="ally,party"/> -->
					</effect_group>

					<effect_group name="ABILITY1: Right Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="2"/>
						</passive_effect>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="2"/>
					</effect_group>
					<effect_group name="ABILITY2: Left Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="4"/>
						</passive_effect>
						<passive_effect name="BurstRoundCount" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="8"/>
						</passive_effect>
						<passive_effect name="SpreadDegreesVertical" operation="base_add" value="1"/>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="2"/>
					</effect_group>			

					<effect_group name="ABILITY1: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="0"/>
							<!-- <requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="Equals" value="0"/> -->
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="9"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/awakenedHandIce.unity3d?awakenedHandIce" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="1"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="100"/> -->
					</effect_group>
					
					<effect_group name="ABILITY2: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="0"/>
							<!-- <requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="Equals" value="0"/> -->
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="7"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/awakenedHandIce.unity3d?awakenedHandIce" local_offset="-.14,-0.05,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="1"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="100"/> -->
					</effect_group>
					
					<effect_group name="ABILITY4: Summon Mundane DEV BUG">
					</effect_group>					
					
					<effect_group name="ABILITY5: Regenerate">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffFallenIceSpell_regenerate"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffFallenIceSpell_regenerate" target_tags="ally,party"/>
						<!-- SCALE -->
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="120">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="LTE" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="60">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="Equals" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="30">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="3"/>
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="LT" value="5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="15">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="5"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="ABILITY6">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="10"/>
					</effect_group>					
					
					<effect_group name="ABILITY: Sacrifice Mundane">
					</effect_group>
			</buff>	
	
		<!-- FALLEN: Fire -->
			<buff name="buffFallenFire" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0"/>
				<update_rate value="1"/>
					<effect_group name="Fallen">
						<!-- CVar: _difficulty -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="0"/>
					</effect_group>
					
					<effect_group name="COOLDOWN">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="GT" value="0"/>
						</triggered_effect>							
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility3_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility3_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility4_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility4_cd" operation="GT" value="0"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="GT" value="0"/>
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedRun_cd" operation="subtract" value="1">
							<requirement name="CVarCompare" cvar="awakenedRun_cd" operation="GT" value="0"/>
						</triggered_effect>								
					</effect_group>

					<effect_group name="HEALTH">
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="10">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.99"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="9">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.99"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.9"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="8">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.9"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.8"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="7">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.8"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.7"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="6">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.7"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.6"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="5">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.6"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="4">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.5"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.4"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="3">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.4"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.3"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="2">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.3"/>
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GTE" value="0.2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedHealth_remain" operation="set" value="1">
							<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="0.2"/>
						</triggered_effect>
					</effect_group>

					<effect_group name="IMMUNITY">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffSorceryImmunity_FallenAwakened"/>
					</effect_group>

					<!-- SCALE -->
					<effect_group name="DAMAGE SCALE">
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="set" value="@sorceryPlayerTier"/>
						<triggered_effect trigger="onSelfProgressionUpdate" action="ModifyCVar" cvar="awakenedAbility1_damage" operation="multiply" value=".2"/>				
					</effect_group>

					<effect_group name="AURA: Empower">
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffSorceryImmunity_FallenAwakened,buffEntityFire_infused" target_tags="ally,party"/>
					</effect_group>

					<effect_group name="ABILITY1: Right Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="2"/>
						</passive_effect>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="2"/>
					</effect_group>
					<effect_group name="ABILITY2: Left Hand">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="1"/>
						<passive_effect name="EntityDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="BlockDamage" operation="perc_add" value="@awakenedAbility1_damage"/>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="4"/>
						</passive_effect>
						<passive_effect name="MagazineSize" operation="base_add" value="1">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="8"/>
						</passive_effect>
						<passive_effect name="SpreadDegreesVertical" operation="base_add" value="1"/>
						<passive_effect name="SpreadDegreesHorizontal" operation="base_add" value="2"/>
					</effect_group>			

					<effect_group name="ABILITY1: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility1" operation="Equals" value="0"/>
							<!-- <requirement name="CVarCompare" cvar="awakenedAbility1_cd" operation="Equals" value="0"/> -->
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="9"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="RightHand" prefab="#@modfolder:Resources/awakenedHandFire.unity3d?awakenedHandFire" local_offset=".14,0.035,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1" operation="set" value="1"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility1_cd" operation="set" value="100"/> -->
					</effect_group>
					
					<effect_group name="ABILITY2: Activate">
							<requirement name="CVarCompare" cvar="awakenedAbility2" operation="Equals" value="0"/>
							<!-- <requirement name="CVarCompare" cvar="awakenedAbility2_cd" operation="Equals" value="0"/> -->
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="7"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" target="self" parent_transform="LeftHand" prefab="#@modfolder:Resources/awakenedHandFire.unity3d?awakenedHandFire" local_offset="-.14,-0.05,0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2" operation="set" value="1"/>
						<!-- <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility2_cd" operation="set" value="100"/> -->
					</effect_group>
					
					<effect_group name="ABILITY4: Summon Mundane DEV BUG">
					</effect_group>					
					
					<effect_group name="ABILITY5: Regenerate">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility5_cd" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedHealth_remain" operation="LTE" value="8"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffFallenFireSpell_regenerate"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" range="30" buff="buffFallenFireSpell_regenerate" target_tags="ally,party"/>
						<!-- SCALE -->
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="120">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="LTE" value="1"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="60">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="Equals" value="2"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="30">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="3"/>
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="LT" value="5"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility5_cd" operation="set" value="15">
							<requirement name="CVarCompare" cvar="sorceryPlayerTier" operation="GTE" value="5"/>
						</triggered_effect>
					</effect_group>
					
					<effect_group name="ABILITY6">
							<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0"/>
							<requirement name="CVarCompare" cvar="awakenedAbility6_cd" operation="Equals" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="awakenedAbility6_cd" operation="set" value="10"/>
					</effect_group>					
					
					<effect_group name="ABILITY: Sacriffire Mundane">
					</effect_group>
			</buff>	
	
	
		<!--___________________________ FALLEN SPELLS ___________________________-->
		<!-- FALLEN: LIGHTNING -->
			<!-- FALLEN SPELL: Lightning -->
			<buff name="buffFallenLightningSpell_lightning" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.5" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.5" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.5" duration="0,0.5"/>						
					</effect_group>
					<effect_group name="LIGHTNING TOUCHED">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffEntityLightning_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffEntityLightning_player" target_tags="player"/>
					</effect_group>
					<effect_group name="SHOCKBURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="10"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
					</effect_group>
					<effect_group name="ELECTROCUTE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5" target="self"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffFallenLightningTrigger_electrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffFallenLightningTrigger_electrocute"/>
					</effect_group>
			</buff>	

			<!-- FALLEN TRIGGER: Electrocute -->
			<buff name="buffFallenLightningTrigger_electrocute" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffFallenLightningSpell_electrocute"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="self" buff="buffFallenLightningSpell_electrocute"/>
					</effect_group>
			</buff>		
			<!-- FALLEN SPELL: Electrocute -->
			<buff name="buffFallenLightningSpell_electrocute" hidden="true" remove_on_death="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="1"/>
				<update_rate value="1"/>
					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="electric_fence_impact" />
					</effect_group>
					<effect_group name="ELECTROCUTE: Shockburn">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5" duration="0,1"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value="1"/>
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="electric_fence_impact" />
						<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="electric_fence_impact" />
					</effect_group>
			</buff>	
	
			<!-- FALLEN SPELL: Lightning Regenerate -->
			<buff name="buffFallenLightningSpell_regenerate" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="6"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeLightning.unity3d?fallenRechargeLightning"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fallenRechargeLightning-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fallenRechargeLightning"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeLightning-finish.unity3d?fallenRechargeLightning-finish"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="50"/>
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
						<passive_effect name="RunSpeed" operation="perc_set" value="0" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0"  />
						<passive_effect name="WalkSpeed" operation="base_set" value="0" />
						<passive_effect name="RunSpeed" operation="base_set" value="0" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" />
						<!-- <triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" buff="buffFallenLightningSpell_regenerate">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						</triggered_effect> -->
					</effect_group>
			</buff>
	

		<!-- FALLEN: ICE -->
			<!-- FALLEN SPELL: Ice Aura Empower -->
			<buff name="buffFallenIceSpell_auraEmpower" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="10"/>
				<update_rate value="1"/>
					<effect_group>
						<!-- <triggered_effect trigger="onSelfAttackedOther" target="other" action="AddBuff" buff="buffAwakenedIceImpactTrigger_ice, buffFallenIceSpell_iceLesser"/> -->
					</effect_group>
			</buff>		
		
			<!-- FALLEN: Ice Spell -->
			<buff name="buffFallenIceSpell_ice" hidden="true" remove_on_death="true">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="2"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="10"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="10"/>
					</effect_group>
					<effect_group name="ICE TOUCHED">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffEntityIce_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffEntityIce_player" target_tags="player"/>
					</effect_group>					
					<effect_group name="CHILL">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="1,.9,0" duration="0,1,2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="1,.9,0" duration="0,1,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="1,.9,0" duration="0,1,2" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value="1,.9,0" duration="0,1,2" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value="1,.9,0" duration="0,1,2" />
						<passive_effect name="RoundsPerMinute" operation="perc_subtract" value="1,.9,0" duration="0,1,2" />
					</effect_group>
					<effect_group name="FREEZE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenImpactTrigger_frozen"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffFallenImpactTrigger_frozen"/>
					</effect_group>
			</buff>
	
			<!-- FALLEN IMPACT: Frozen -->
			<buff name="buffFallenImpactTrigger_frozen" hidden="true">
				<stack_type value="ignore"/>
				<duration value="10"/>
					<effect_group name="COOLDOWN">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenImpact_frozen"/>
					</effect_group>
			</buff>
			<buff name="buffFallenImpact_frozen" hidden="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen"/>
						<!-- finish fx -->
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffFallenIceSpell_frozen"/>
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" target="self" sound="sorceryIce_cast" />
					</effect_group>
			</buff>			

			<!-- FALLEN SPELL: Frozen -->
			<buff name="buffFallenIceSpell_frozen" hidden="true">
				<damage_type value="stun"/>
				<stack_type value="ignore"/>
				<duration value="2"/>
					<effect_group name="initial">
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_explode" />
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen.unity3d?iceFrozen" local_rotation="0,0,0" local_position="0,0,0"/>					
					</effect_group>
					<effect_group name="Ice: slow freeze">
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="perc_set" value="0" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_set" value="0" duration="0,2" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0" duration="0,2" />
						<passive_effect name="AttacksPerMinute" operation="perc_set" value="0" duration="0,2" />					
					
						<passive_effect name="WalkSpeed" operation="base_set" value="0" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="base_set" value="0" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="base_set" value="0" duration="0,2" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" duration="0,2" />
						<passive_effect name="AttacksPerMinute" operation="base_set" value="0" duration="0,2" />
					</effect_group>
					
					<!-- finish fx -->
					<effect_group name="finish FX">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceFrozen-finish" />
						<!-- <triggered_effect trigger="onSelfDied" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen-finish.unity3d?iceFrozen-finish" /> -->
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFrozen-finish.unity3d?iceFrozen-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_explode" />
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryIce_cast" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceFrozen"/>
					</effect_group>
			</buff>		
	
			<!-- FALLEN SPELL: Ice Regenerate -->
			<buff name="buffFallenIceSpell_regenerate" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="6"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeIce.unity3d?fallenRechargeIce"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fallenRechargeIce-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fallenRechargeIce"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeIce-finish.unity3d?fallenRechargeIce-finish"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="50"/>
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
						<passive_effect name="RunSpeed" operation="perc_set" value="0" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0"  />
						<passive_effect name="WalkSpeed" operation="base_set" value="0" />
						<passive_effect name="RunSpeed" operation="base_set" value="0" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" />
						<!-- <triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" buff="buffFallenIceSpell_regenerate">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						</triggered_effect> -->
					</effect_group>
			</buff>	
	
	
		<!-- FALLEN: FIRE -->
			<!-- FALLEN: Fire Spell -->
			<buff name="buffFallenFireSpell_fire" hidden="true" remove_on_death="true">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="8"/>
				<update_rate value="1"/>
					<effect_group name="initial">
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStack" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />					
					</effect_group>
					<effect_group name="IMPACT: Stagger">
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="6"/>
						<triggered_effect trigger="onSelfBuffStack" action="ModifyStats" stat="Health" operation="subtract" value="6"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value="0.9" duration="0,0.5"/>						
					</effect_group>
					<effect_group name="FIRE TOUCHED">
							<requirement name="EntityTagCompare" tags="player"/>
						<!-- <triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffEntityFire_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffEntityFire_player" target_tags="player"/> -->
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffEntityFire_player" target_tags="player"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffEntityFire_player" target_tags="player"/>						
					</effect_group>
					<effect_group name="BURN">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="2"/>
					</effect_group>
					<effect_group name="EXPLODE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenFireTrigger_explode"/>
						<triggered_effect trigger="onSelfBuffStack" action="AddBuff" buff="buffFallenFireTrigger_explode"/>
					</effect_group>
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
					</effect_group>
			</buff>
			<!-- FALLEN IMPACT: Explode -->
			<buff name="buffFallenFireTrigger_explode" hidden="true">
				<stack_type value="ignore"/>
				<duration value="30"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffFallenFireSpell_explode"/>
					</effect_group>
			</buff>	
			<!-- FALLEN SPELL: Explode -->
			<buff name="buffFallenFireSpell_explode" hidden="true">
				<damage_type value="stun"/>
				<stack_type value="ignore"/>
				<duration value="1"/>
					<effect_group name="EXPLODE">
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryFireball_explode" />
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
					</effect_group>
			</buff>
			
			<!-- FALLEN SPELL: Fire Regenerate -->
			<buff name="buffFallenFireSpell_regenerate" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="6"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeFire.unity3d?fallenRechargeFire"/>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fallenRechargeFire-finish" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fallenRechargeFire"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fallenRechargeFire-finish.unity3d?fallenRechargeFire-finish"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="50"/>
						<passive_effect name="WalkSpeed" operation="perc_set" value="0" />
						<passive_effect name="RunSpeed" operation="perc_set" value="0" />
						<passive_effect name="JumpStrength" operation="perc_set" value="0"  />
						<passive_effect name="WalkSpeed" operation="base_set" value="0" />
						<passive_effect name="RunSpeed" operation="base_set" value="0" />
						<passive_effect name="JumpStrength" operation="base_set" value="0" />
						<!-- <triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" buff="buffFallenFireSpell_regenerate">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="5"/>
						</triggered_effect> -->
					</effect_group>
			</buff>			
	
			
		<!--___________________________ ALCHEMY ___________________________-->
			<!-- MORTAR PESTLE -->
			<buff name="buffCrafting_MortarPestle" hidden="true" remove_on_death="false">
				<stack_type value="replace"/>
				<duration value="0"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="sorceryAlchemy_grinding"/> 
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_health,sorceryPotion_health2"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_stamina"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_spirit"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_travel"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_haste"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_taunt"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotion_essence,sorceryPotion_essence2"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotionBomb_grass,sorceryPotionBomb_grass2"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotionBomb_fire"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotionBomb_ice"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="sorceryPotionBomb_lightning"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="resourcePowderArcane,resourcePowderArcane2,resourcePowderArcane3,resourcePowderArcane4,resourcePowderArcane5"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="resourcePowderFire,resourcePowderFire2,resourcePowderFire3,resourcePowderFire4,resourcePowderFire5"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="resourcePowderIce,resourcePowderIce2,resourcePowderIce3,resourcePowderIce4,resourcePowderIce5"/>
						<passive_effect name="RecipeTagUnlocked" operation="base_set" value="1" tags="resourcePowderLightning,resourcePowderLightning2,resourcePowderLightning3,resourcePowderLightning4,resourcePowderLightning5"/>
					</effect_group>
					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffCrafting_MortarPestle">
							<requirement name="HoldingItemHasTags" tags="enchantedmortar" invert="true"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfLeaveGame" action="RemoveBuff" buff="buffCrafting_MortarPestle"/>
					</effect_group>					
			</buff>		
		
			<!-- ALCHEMY: POTIONS -->
			<!-- POTION CONSUME: Hydrate -->
			<buff name="buffPotionConsume" hidden="true">
				<stack_type value="ignore"/>
				<duration value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionConsume" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionConsume" operation="multiply" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="@$buffPotionConsume"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="buffProcessConsumables"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" target="self" cvar="$buffPotionConsume" operation="set" value="0"/>
					</effect_group>
			</buff>
			
			<!-- POTION: Health -->
			<buff name="buffPotion_health" name_key="sorceryPotion_health" description_key="sorceryPotion_healthDesc" icon="ui_game_symbol_chemistry"  icon_color="150,0,0" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="10"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_health" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_health" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="add" value="@$buffPotion_health"/>
						<passive_effect name="HealthMaxModifierOT" operation="base_add" value="0.5" duration="0,10"/>
						<passive_effect name="HealthChangeOT" operation="base_add" value="1" duration="0,10"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_health" operation="set" value="0"/>
					</effect_group>
			</buff>
			<buff name="buffPotion_health2" name_key="sorceryPotion_health2" description_key="sorceryPotion_health2Desc" icon="ui_game_symbol_chemistry"  icon_color="170,0,0" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="10"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_health2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_health2" operation="multiply" value="60"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="add" value="@$buffPotion_health2"/>
						<passive_effect name="HealthMaxModifierOT" operation="base_add" value="1" duration="0,10" />
						<passive_effect name="HealthChangeOT" operation="base_add" value="2" duration="0,10"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_health2" operation="set" value="0"/>
					</effect_group>
			</buff>
			<buff name="buffPotion_health3" name_key="sorceryPotion_health3" description_key="sorceryPotion_health3Desc" icon="ui_game_symbol_chemistry"  icon_color="190,0,0" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="10"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_health3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_health3" operation="multiply" value="100"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="add" value="@$buffPotion_health3"/>
						<passive_effect name="HealthMaxModifierOT" operation="base_add" value="2" duration="0,10" />
						<passive_effect name="HealthChangeOT" operation="base_add" value="3" duration="0,10"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_health3" operation="set" value="0"/>
					</effect_group>
			</buff>
			
			<!-- POTION: Stamina -->
			<buff name="buffPotion_stamina" name_key="sorceryPotion_stamina" description_key="sorceryPotion_staminaDesc" icon="ui_game_symbol_chemistry"  icon_color="0,0,150" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="120"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_stamina" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_stamina" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_stamina" operation="set" value="0"/>
					</effect_group>
					<effect_group>
							<requirement name="HoldingItemHasTags" tags="spellcast" invert="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" operation="add" value="@$buffPotion_stamina"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.15"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".5"/>
					</effect_group>
			</buff>
			<buff name="buffPotion_stamina2" name_key="sorceryPotion_stamina2" description_key="sorceryPotion_stamina2Desc" icon="ui_game_symbol_chemistry"  icon_color="0,0,170" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="120"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_stamina2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_stamina2" operation="multiply" value="60"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_stamina2" operation="set" value="0"/>
					</effect_group>
					<effect_group>
							<requirement name="HoldingItemHasTags" tags="spellcast" invert="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" operation="add" value="@$buffPotion_stamina2"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.3"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".75"/>
					</effect_group>
			</buff>			
			<buff name="buffPotion_stamina3" name_key="sorceryPotion_stamina3" description_key="sorceryPotion_stamina3Desc" icon="ui_game_symbol_chemistry"  icon_color="0,0,190" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="120"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_stamina3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_stamina3" operation="multiply" value="100"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_stamina3" operation="set" value="0"/>
					</effect_group>
					<effect_group>
							<requirement name="HoldingItemHasTags" tags="spellcast" invert="true"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Stamina" operation="add" value="@$buffPotion_stamina3"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.5"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value="1"/>
					</effect_group>
			</buff>
			<!-- POTION: Spirit -->
			<buff name="buffPotion_spirit" name_key="sorceryPotion_spirit" description_key="sorceryPotion_spiritDesc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="120"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_spirit" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_spirit" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_spirit" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Spirit" operation="add" value="@$buffPotion_spirit"/>
					</effect_group>
					<effect_group>
							<requirement name="HoldingItemHasTags" tags="spellcast"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.15"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".5"/>
					</effect_group>
			</buff>
			<buff name="buffPotion_spirit2" name_key="sorceryPotion_spirit2" description_key="sorceryPotion_spirit2Desc" icon="ui_game_symbol_chemistry"  icon_color="190,160,230" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="120"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_spirit2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_spirit2" operation="multiply" value="60"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_spirit2" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Spirit" operation="add" value="@$buffPotion_spirit2"/>
					</effect_group>
					<effect_group>
							<requirement name="HoldingItemHasTags" tags="spellcast"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.3"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value=".75"/>
					</effect_group>
			</buff>			
			<buff name="buffPotion_spirit3" name_key="sorceryPotion_spirit3" description_key="sorceryPotion_spirit3Desc" icon="ui_game_symbol_chemistry"  icon_color="210,170,255" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="120"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_spirit3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_spirit3" operation="multiply" value="100"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_spirit3" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Spirit" operation="add" value="@$buffPotion_spirit3"/>
					</effect_group>
					<effect_group>
							<requirement name="HoldingItemHasTags" tags="spellcast"/>
						<passive_effect name="StaminaMaxModifierOT" operation="base_add" value="0.5"/>
						<passive_effect name="StaminaChangeOT" operation="perc_add" value="1"/>
					</effect_group>
			</buff>
			<!-- POTION: Travel -->
			<buff name="buffPotion_travel" name_key="sorceryPotion_travel" description_key="sorceryPotion_travelDesc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
				<update_rate value=".5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_travel" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_travel" operation="multiply" value="1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_travel" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffPotion_travel">
							<requirement name="HasBuff" buff="buffLegBroken"/>
						</triggered_effect>						
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$buffPotion_travel"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$buffPotion_travel"/>
						<triggered_effect trigger="onSelfDamagedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel" />
						<triggered_effect trigger="onSelfDamagedOther" action="RemoveBuff" target="self" buff="buffPotion_travel" />
						<triggered_effect trigger="onSelfAttackedOther" action="RemoveBuff" target="self" buff="buffPotion_travel" />
						<triggered_effect trigger="onOtherDamagedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel" />
						<triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel" />
					</effect_group>
			</buff>
			<buff name="buffPotion_travel2" name_key="sorceryPotion_travel2" description_key="sorceryPotion_travel2Desc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
				<update_rate value=".5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_travel2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_travel2" operation="multiply" value="2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_travel2" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffPotion_travel2">
							<requirement name="HasBuff" buff="buffLegBroken"/>
						</triggered_effect>
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$buffPotion_travel2"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$buffPotion_travel2"/>
						<triggered_effect trigger="onSelfDamagedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel2" />
						<triggered_effect trigger="onSelfDamagedOther" action="RemoveBuff" target="self" buff="buffPotion_travel2" />
						<triggered_effect trigger="onSelfAttackedOther" action="RemoveBuff" target="self" buff="buffPotion_travel2" />
						<triggered_effect trigger="onOtherDamagedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel2" />
						<triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel2" />
					</effect_group>
			</buff>
			<buff name="buffPotion_travel3" name_key="sorceryPotion_travel3" description_key="sorceryPotion_travel3Desc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
				<update_rate value=".5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_travel3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_travel3" operation="multiply" value="3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_travel3" operation="set" value="0"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffPotion_travel3">
							<requirement name="HasBuff" buff="buffLegBroken"/>
						</triggered_effect>						
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$buffPotion_travel3"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$buffPotion_travel3"/>
						<triggered_effect trigger="onSelfDamagedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel3" />
						<triggered_effect trigger="onSelfDamagedOther" action="RemoveBuff" target="self" buff="buffPotion_travel3" />
						<triggered_effect trigger="onSelfAttackedOther" action="RemoveBuff" target="self" buff="buffPotion_travel3" />
						<triggered_effect trigger="onOtherDamagedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel3" />
						<triggered_effect trigger="onOtherAttackedSelf" action="RemoveBuff" target="self" buff="buffPotion_travel3" />
					</effect_group>
			</buff>			
			<!-- POTION: Haste -->
			<buff name="buffPotion_haste" name_key="sorceryPotion_haste" description_key="sorceryPotion_hasteDesc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_haste" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_haste" operation="multiply" value=".5"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_haste" operation="set" value="0"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$buffPotion_haste"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$buffPotion_haste"/>
						<passive_effect name="CrouchSpeed" operation="perc_add" value="@$buffPotion_haste"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value="@$buffPotion_haste"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value="@$buffPotion_haste"/>
						<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".25"/>
					</effect_group>
			</buff>			
			<buff name="buffPotion_haste2" name_key="sorceryPotion_haste2" description_key="sorceryPotion_haste2Desc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_haste2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_haste2" operation="multiply" value="1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_haste2" operation="set" value="0"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$buffPotion_haste2"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$buffPotion_haste2"/>
						<passive_effect name="CrouchSpeed" operation="perc_add" value="@$buffPotion_haste2"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value="@$buffPotion_haste2"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value="@$buffPotion_haste2"/>
						<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".5"/>
					</effect_group>
			</buff>
			<buff name="buffPotion_haste3" name_key="sorceryPotion_haste3" description_key="sorceryPotion_haste3Desc" icon="ui_game_symbol_chemistry"  icon_color="174,146,213" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_haste3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_haste3" operation="multiply" value="1.5"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_haste3" operation="set" value="0"/>
						<passive_effect name="WalkSpeed" operation="perc_add" value="@$buffPotion_haste3"/>
						<passive_effect name="RunSpeed" operation="perc_add" value="@$buffPotion_haste3"/>
						<passive_effect name="CrouchSpeed" operation="perc_add" value="@$buffPotion_haste3"/>
						<passive_effect name="AttacksPerMinute" operation="perc_add" value="@$buffPotion_haste3"/>
						<passive_effect name="RoundsPerMinute" operation="perc_add" value="@$buffPotion_haste3"/>
						<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".75"/>
					</effect_group>
			</buff>			
			<!-- POTION: Taunt -->
			<buff name="buffPotion_taunt" name_key="sorceryPotion_taunt" description_key="sorceryPotion_tauntDesc" icon="ui_game_symbol_chemistry"  icon_color="120,120,120" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryPotion_taunt"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryPotion_taunt"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryPotion_taunt"/>
						<passive_effect name="NoiseMultiplier" operation="perc_set" value="3" />
					</effect_group>
			</buff>			
			<buff name="buffPotion_taunt2" name_key="sorceryPotion_taunt2" description_key="sorceryPotion_taunt2Desc" icon="ui_game_symbol_chemistry"  icon_color="120,120,120" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryPotion_taunt2"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryPotion_taunt2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryPotion_taunt2"/>
						<passive_effect name="NoiseMultiplier" operation="perc_set" value="3" />
					</effect_group>
			</buff>			
			<buff name="buffPotion_taunt3" name_key="sorceryPotion_taunt3" description_key="sorceryPotion_taunt3Desc" icon="ui_game_symbol_chemistry"  icon_color="120,120,120" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="60"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryPotion_taunt3"/>
						<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="sorceryPotion_taunt3"/>
						<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="sorceryPotion_taunt3"/>
						<passive_effect name="NoiseMultiplier" operation="perc_set" value="3" />
					</effect_group>
			</buff>
			<!-- POTION: Essence -->
			<buff name="buffPotion_essence" name_key="sorceryPotion_essence" description_key="sorceryPotion_essenceDesc" icon="ui_game_symbol_chemistry"  icon_color="200,100,200" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="300"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_essence" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_essence" operation="multiply" value=".5"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_essence" operation="set" value="0"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$buffPotion_essence" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest,essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest,essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
					</effect_group>
			</buff>
			<buff name="buffPotion_essence2" name_key="sorceryPotion_essence2" description_key="sorceryPotion_essence2Desc" icon="ui_game_symbol_chemistry"  icon_color="200,100,200" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="300"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_essence2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_essence2" operation="multiply" value="1"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_essence2" operation="set" value="0"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$buffPotion_essence2" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest,essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest,essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
					</effect_group>
			</buff>			
			<buff name="buffPotion_essence3" name_key="sorceryPotion_essence3" description_key="sorceryPotion_essence3Desc" icon="ui_game_symbol_chemistry"  icon_color="200,100,200" hidden="false" tags="potion">
				<stack_type value="ignore"/>
				<duration value="300"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_essence3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotion_essence3" operation="multiply" value="2"/>
						<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffPotion_essence3" operation="set" value="0"/>
						<passive_effect name="HarvestCount" operation="perc_add" value="@$buffPotion_essence3" tags="essenceFireHarvest,essenceFire2Harvest,essenceFire3Harvest,essenceFire4Harvest,essenceFire5Harvest,essenceIceHarvest,essenceIce2Harvest,essenceIce3Harvest,essenceIce4Harvest,essenceIce5Harvest,essenceLightningHarvest,essenceLightning2Harvest,essenceLightning3Harvest,essenceLightning4Harvest,essenceLightning5Harvest"/>
					</effect_group>
			</buff>			
			
			
			
			

			<!-- ALCHEMY: POTION BOMBS -->
			<!-- POTION BOMB IMPACT: Fire -->
			<buff name="buffPotionBombImpactTrigger_fire" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="fireImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryFireball_explode" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning-finish"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPotionBombImpact_fire, buffPotionBombFinish_fire"/>
					</effect_group>
			</buff>
			<buff name="buffPotionBombImpact_fire" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireImpact.unity3d?fireImpact" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning.unity3d?fireBurning" parent_transform="Hips" />
					</effect_group>
			</buff>
			<!-- POTION BOMB FINISH: Fire -->
			<buff name="buffPotionBombFinish_fire" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="fireBurning" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/fireBurning-finish.unity3d?fireBurning-finish" parent_transform="Hips" />					
					</effect_group>
			</buff>
			<!-- POTION BOMB: Fire -->
			<buff name="buffPotionBomb_fire" hidden="true" tags="potionbomb">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire" operation="add" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire_C2" operation="add" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire_C2" operation="multiply" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_fire" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_fire_C2" duration="1,5"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<buff name="buffPotionBomb_fire2" hidden="true" tags="potionbomb">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2" operation="add" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2" operation="multiply" value="40"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2_C2" operation="add" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire2_C2" operation="multiply" value="10"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_fire2" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_fire2_C2" duration="1,5"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="60"/>
						</triggered_effect>						
					</effect_group>
			</buff>
			<buff name="buffPotionBomb_fire3" hidden="true" tags="potionbomb">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3" operation="add" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3" operation="multiply" value="60"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3_C2" operation="add" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_fire3_C2" operation="multiply" value="15"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_fire3" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_fire3_C2" duration="1,5"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>						
					</effect_group>
			</buff>

			<!-- POTION BOMB IMPACT: Ice -->
			<buff name="buffPotionBombImpactTrigger_ice" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="iceImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryIce_impacted" />
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceFinish"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPotionBombImpact_ice, buffPotionBombFinish_ice"/>
					</effect_group>
			</buff>
			<buff name="buffPotionBombImpact_ice" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceImpact.unity3d?iceImpact" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceLasting.unity3d?iceLasting" parent_transform="Hips" />
					</effect_group>
			</buff>
			<!-- POTION BOMB FINISH: Ice -->
			<buff name="buffPotionBombFinish_ice" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffSpell_Frozen"/>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="iceLasting" />
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/iceFinish.unity3d?iceFinish" parent_transform="Hips" />
						<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="sorceryIce_freeze" target="self" />
					</effect_group>
			</buff>
			<!-- POTION BOMB: Ice -->
			<buff name="buffPotionBomb_ice" hidden="true" tags="potionbomb">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice" operation="multiply" value="10"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice_C2" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice_C2" operation="multiply" value="2.5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_ice" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_ice_C2" duration="1,5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_Frozen">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<buff name="buffPotionBomb_ice2" hidden="true" tags="potionbomb">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2_C2" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice2_C2" operation="multiply" value="5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_ice2" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_ice2_C2" duration="1,5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_Frozen">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="60"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<buff name="buffPotionBomb_ice3" hidden="true" tags="potionbomb">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3" operation="multiply" value="30"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3_C2" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_ice3_C2" operation="multiply" value="7.5"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_ice3" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_ice3_C2" duration="1,5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_Frozen">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
						</triggered_effect>
					</effect_group>
			</buff>

			<!-- POTION BOMB IMPACT: Lightning -->
			<buff name="buffPotionBombImpactTrigger_lightning" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="RemoveParticleEffectFromEntity" particle="lightningImpact"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryPotionBomb_lightningImpact" />
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningArc-finish"/> -->
						<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPotionBombImpact_lightning, buffPotionBombFinish_lightning"/>
					</effect_group>
			</buff>
			<buff name="buffPotionBombImpact_lightning" hidden="true" remove_on_death="true">
				<stack_type value="ignore"/>
				<duration value="0.1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningImpact.unity3d?lightningImpact" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningArc.unity3d?lightningArc" parent_transform="Hips" />
					</effect_group>
			</buff>
			<!-- POTION BOMB FINISH: Lightning -->
			<buff name="buffPotionBombFinish_lightning" hidden="true" remove_on_death="true">
				<stack_type value="replace"/>
				<duration value="5"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningArc" />
						<!-- <triggered_effect trigger="onSelfBuffRemove" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningArc-finish.unity3d?lightningArc-finish" parent_transform="Hips" />					 -->
					</effect_group>
			</buff>
			<!-- POTION BOMB: Lightning -->
			<buff name="buffPotionBomb_lightning" hidden="true" tags="potionbomb">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning" operation="add" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning" operation="multiply" value="15"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning_C2" operation="add" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning_C2" operation="multiply" value="4"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_lightning" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_lightning_C2" duration="1,5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />						
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffPotionBomb_lightningElectrocute">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<buff name="buffPotionBomb_lightning2" hidden="true" tags="potionbomb">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2" operation="add" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2" operation="multiply" value="45"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2_C2" operation="set" value="@$sorceryAlchemyMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2_C2" operation="add" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2_C2" operation="subtract" value="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffPotionBomb_lightning2_C2" operation="multiply" value="12"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_lightning2" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffPotionBomb_lightning2_C2" duration="1,5"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />						
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="self" buff="debuffPotionBomb_lightningElectrocute">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="60"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<!-- POTION BOMB DEBUFF: LIGHTNING ELECTROCUTE -->
			<buff name="debuffPotionBomb_lightningElectrocute" hidden="true" remove_on_death="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="3"/>
				<update_rate value="1"/>

					<effect_group name="FX">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningElectrocute.unity3d?lightningElectrocute" parent_transform="Hips"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="electric_fence_impact" />
					</effect_group>

					<effect_group name="ELECTROCUTE: Shockburn">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="5" duration="0,2"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,0" duration="0,2"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,0" duration="0,2"/>
					</effect_group>

					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningElectrocute"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="electric_fence_impact" />
						<triggered_effect trigger="onSelfLeaveGame" action="StopSound" target="self" sound="electric_fence_impact" />
					</effect_group>
			</buff>







		<!--___________________________ SPELL AMMO ___________________________-->
			<!-- SPELL AMMO: ARROWS-->
			<!-- FIRE ARROW -->
			<buff name="buffAmmoArrow_fire" hidden="true" tags="spellammo">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_fire" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_fire" operation="multiply" value="30"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_fire_C2" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_fire_C2" operation="multiply" value="6"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_fire" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_fire_C2" duration="1,5"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="10"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="30">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="15"/>
						</triggered_effect>						
					</effect_group>
			</buff>		
			<!-- ICE ARROW -->
			<buff name="buffAmmoArrow_ice" hidden="true" tags="spellammo">
				<damage_type value="cold"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_ice" operation="set" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_ice" operation="multiply" value="25"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_ice_C2" operation="set" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_ice_C2" operation="multiply" value="4"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_ice" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_ice_C2" duration="1,5"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_Frozen">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="10">
							<requirement name="HasBuff" buff="buffSpell_Frozen" target="self"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<!-- LIGHTNING ARROW -->
			<buff name="buffAmmoArrow_lightning" hidden="true" tags="spellammo">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_lightning" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_lightning" operation="multiply" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_lightning_C2" operation="set" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_lightning_C2" operation="multiply" value="3"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_lightning" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_lightning_C2" duration="1,5"/>
							<passive_effect name="HealthMax" operation="perc_subtract" value="0.10"/>
							<passive_effect name="HealthGain" operation="perc_subtract" value="0.10"/>
							<passive_effect name="HealthLoss" operation="perc_add" value="0.10"/>						
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".10" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".10" />
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="debuffAmmo_LightningStrike">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						</triggered_effect>
					</effect_group>
			</buff>
			<!-- OMNI ARROW -->
			<buff name="buffAmmoArrow_omni" hidden="true" tags="spellammo">
				<damage_type value="heat"/>
				<stack_type value="replace"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni" operation="add" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni" operation="subtract" value="2"/> <!-- remove base -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni" operation="multiply" value="75"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni_C2" operation="set" value="@$sorceryFireMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni_C2" operation="add" value="@$sorceryIceMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni_C2" operation="add" value="@$sorceryLightningMastery_power"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni_C2" operation="subtract" value="2"/> <!-- remove base -->
						<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffAmmoArrow_omni_C2" operation="multiply" value="13"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_omni" duration="0.1,1.1"/>
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="@$buffAmmoArrow_omni_C2" duration="1,5"/>
							<passive_effect name="HealthMax" operation="perc_subtract" value="0.10"/>
							<passive_effect name="HealthGain" operation="perc_subtract" value="0.10"/>
							<passive_effect name="HealthLoss" operation="perc_add" value="0.10"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
						<passive_effect name="AttacksPerMinute" operation="perc_subtract" value=".8,.8,0" duration="0,1,5" />
					</effect_group>
					<effect_group name="FIRE">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="GTE" value="85"/>
						<triggered_effect trigger="onSelfBuffStart" action="Ragdoll" target="self" duration="1"/>
						<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" target="self" stat="Health" operation="subtract" value="30"/>
					</effect_group>
					<effect_group name="ICE">
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffSpellImpactTrigger_Frozen">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
						</triggered_effect>
						<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" target="self" stat="Health" operation="subtract" value="10">
							<requirement name="HasBuff" buff="buffSpell_Frozen" target="self"/>
						</triggered_effect>	
					</effect_group>
					<effect_group name="LIGHTNING">
							<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
						<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="debuffAmmo_LightningStrike"/>
					</effect_group>					
			</buff>

		<!--___________________________ SPELL AMMO: DEBUFFS & SPELLS ___________________________-->
			<!-- DEBUFF: LIGHTNING STRIKE -->
			<buff name="debuffAmmo_LightningStrike" hidden="true" remove_on_death="true">
				<damage_type value="electrical"/>
				<stack_type value="ignore"/>
				<duration value="5"/>
				<update_rate value="1"/>
					<effect_group name="IMPACT">
						<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="#@modfolder:Resources/lightningStrike.unity3d?lightningStrike"/>
						<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="sorceryLightning_strike" />
					</effect_group>
					<effect_group name="ELECTROCUTE">
						<passive_effect name="HealthChangeOT" operation="base_subtract" value="50" duration="0.1,1.1"/>
						<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,0" duration="0,1"/>
						<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,0" duration="0,1"/>
					</effect_group>					
					<effect_group name="cleanup">
						<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="lightningStrike"/>
						<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" target="self" sound="sorceryLightning_strike" />
					</effect_group>
			</buff>

		</append>
		
		
		
		
		<!-- SORCERY PLAYER BUFF -->
		<!-- APPEND: buffStatusCheck -->
		<append xpath="/buffs/buff[@name='buffStatusCheck']">
			<effect_group name="SORCERYMANAGE">
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffSorceryManage">
					<requirement name="NotHasBuff" buff="buffSorceryManage"/>
				</triggered_effect>
			</effect_group>
		</append>
		
		
		
</Sorcery>